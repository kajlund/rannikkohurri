!function(){"use strict";function n(n,e,r,t){t.initialize("HZAMesseJ6CDe1K5dFLfxbGbMYD6aV3lBaEp3Ib1","BxuS4AKpUCoP6Ea6pOn1O0PXlmPu5wYvvlSxLJVE"),n.defaults.headers.common["X-Parse-Application-Id"]="HZAMesseJ6CDe1K5dFLfxbGbMYD6aV3lBaEp3Ib1",n.defaults.headers.common["X-Parse-REST-API-Key"]="LZqwu8VIutbaphzVoPW7yf4RxkKQAMbAapwubT5L",e.setPrefix("Rannikk"),r.options.timeOut=4e3,r.options.positionClass="toast-bottom-right"}function e(n){n.when("/",{templateUrl:"app/home.html",controller:"HomeController",controllerAs:"vm"}).when("/books",{templateUrl:"app/books/list.html",controller:"BookListController",controllerAs:"vm"}).when("/books/view/:bookId",{templateUrl:"app/books/view.html",controller:"BookViewController",controllerAs:"vm"}).when("/books/edit/:bookId",{templateUrl:"app/books/edit.html",controller:"BookEditController",controllerAs:"vm"}).when("/movies",{templateUrl:"app/movies/list.html",controller:"MovieListController",controllerAs:"vm"}).when("/movies/view/:movieId",{templateUrl:"app/movies/view.html",controller:"MovieViewController",controllerAs:"vm"}).when("/movies/edit/:movieId",{templateUrl:"app/movies/edit.html",controller:"MovieEditController",controllerAs:"vm"}).when("/events",{templateUrl:"app/events/list.html",controller:"EventListController",controllerAs:"vm"}).when("/events/:eventId",{templateUrl:"app/events/edit.html",controller:"EventEditController",controllerAs:"vm"}).otherwise({redirectTo:"/"})}function r(n){n.info("App Loaded")}angular.module("app",["ngRoute","ngAnimate","infinite-scroll","ngGrid","angular-loading-bar","LocalStorageModule","ui.bootstrap"]),angular.module("app").config(n),angular.module("app").config(e),angular.module("app").run(r),n.$inject=["$httpProvider","localStorageServiceProvider","toastr","Parse"],e.$inject=["$routeProvider"],r.$inject=["$log"],angular.module("app").directive("aDisabled",["$compile",function(){return{restrict:"A",priority:-99999,link:function(n,e,r){n.$watch(r.aDisabled,function(t,o){t?e.unbind("click"):o&&e.bind("click",function(){n.$apply(r.ngClick)})})}}}])}(),function(){"use strict";var n=window.Parse||null,e=window._||null;angular.module("app").constant("Parse",n),angular.module("app").constant("_",e),angular.module("app").constant("toastr",toastr)}(),function(){"use strict";function n(n,e,r,t){function o(){t.loggedOn||(n.info("not logged on"),t.autoSignon().then(function(){n.info(l.session)},function(e){n.error(e)}))}function a(n){var r="";return e.path().substr(0,n.length)===n&&(r="active"),r}function i(){n.info("Signing off"),t.signoff(),toastr.info("User signed off")}function s(){var n=r.open({controller:"SignonController",controllerAs:"vm",templateUrl:"app/tmplSignon.html",size:"lg",resolve:{user:function(){return l.user}}});n.result.then(function(n){"ok"===n&&toastr.info(t.userObj.username+" signed on")},function(){toastr.info("Signon cancelled by user")})}var l=this;l.getClass=a,l.onSignoffClick=i,l.onSignonClick=s,l.session=t,l.user={name:"",pwd:""},o()}angular.module("app").controller("HeaderController",n),n.$inject=["$log","$location","$modal","sessionService"]}(),function(){"use strict";function n(n){n.info("Activating HomeController")}angular.module("app").controller("HomeController",n),n.$inject=["$log"]}(),function(){"use strict";function n(n,e,r){var t=this;t.user=e,t.login=function(){r.signon(t.user.name,t.user.pwd).then(function(){n.close("ok")},function(n){toastr.error(n.error)})},t.cancel=function(){n.dismiss("cancel")}}angular.module("app").controller("SignonController",n),n.$inject=["$modalInstance","user","sessionService"]}(),function(){"use strict";function n(n,e){var r=this;r.opts=e,r.ok=function(){n.close("ok")},r.cancel=function(){n.dismiss("cancel")}}angular.module("app").controller("VerificationController",n),n.$inject=["$modalInstance","opts"]}(),function(){"use strict";function n(n,e,r,t,o){function a(n){d.userObj=n,d.loggedOn=!0,d.sessionToken=n.sessionToken,o.set("ParseUser",n),t.User.become(n.sessionToken).then(function(n){e.info("*** Parse user set to %o",n)},function(){e.error("The Parse user could not be set")})}function i(){d.loggedOn=!1,d.userObj=null,d.sessionToken="",o.remove("ParseUser"),t.User.logOut()}function s(){var t=o.get("ParseUser"),i={headers:{"X-Parse-Application-Id":"HZAMesseJ6CDe1K5dFLfxbGbMYD6aV3lBaEp3Ib1","X-Parse-REST-API-Key":"LZqwu8VIutbaphzVoPW7yf4RxkKQAMbAapwubT5L","X-Parse-Session-Token":t?t.sessionToken:""},method:"GET",url:"https://api.parse.com/1/users/me"},s=r.defer();return t&&t.sessionToken.length>10?n(i).success(function(n){e.info("autoSignon success, data = %o",n),a(n),s.resolve(n)}).error(function(n){s.reject(n.error)}):s.reject("Invalid Cookie"),s.promise}function l(){i()}function c(e,t){var o="?username="+e+"&password="+t,s={method:"GET",url:" https://api.parse.com/1/login"+o};return n(s).then(function(n){return"object"==typeof n.data?(a(n.data),n.data):(i(),r.reject(n.data))},function(n){return i(),r.reject(n.data)})}var d={autoSignon:s,loggedOn:!1,sessionToken:"",signoff:l,signon:c,userObj:null};return d}angular.module("app").factory("sessionService",n),n.$inject=["$http","$log","$q","Parse","localStorageService"]}(),function(){"use strict";function n(n,e,r,t,o,a){function i(){"_new"===d.bookId?d.book={authors:"",genre:"",image:"",lang:"",subtitle:"",title:""}:o.getItem(d.bookId).then(function(n){d.book=n.data},function(n){r.error(n),a.error(n.error.code+" "+n.error.error),e.url(d.getReturnUrl())})}function s(){return"_new"===d.bookId?"/books":"/books/view/"+d.bookId}function l(){o.updateItem(d.book).then(function(n){r.info("Saved Book %o",n),a.success("Book saved"),e.url(d.getReturnUrl())},function(n){r.error("Error saving Book %o",n),a.error(n.error.code+" "+n.error.error)})}function c(){r.info("Cancelled Edit"),a.warning("Edit cancelled"),e.url(d.getReturnUrl())}var d=this;d.cancel=c,d.session=t,d.bookId=n.bookId,d.languages=["swe","eng","fin"],d.genres=["Biography","History","Kids","Misc","Novel","Science","Technology"],d.getReturnUrl=s,d.save=l,i()}angular.module("app").controller("BookEditController",n),n.$inject=["$routeParams","$location","$log","sessionService","bookDataService","toastr"]}(),function(){"use strict";function n(n,e,r,t,o){function a(){e.info("Activating BookListController"),i("title","")}function i(n,r){o.start(),t.queryData(n,r).then(function(n){c.items=n},function(n){e.error("Error fetching Book data %o",n),toastr.error(n.message)}).then(function(){o.complete()})}function s(){i(c.currentSearchField.name,c.searchKey)}function l(){n.path("/books/edit/_new")}var c=this;c.currentItem=null,c.items=[],c.session=r,c.searchKey="",c.onAddClick=l,c.search=s,c.searchFields=[{name:"title",description:"By Title"},{name:"subtitle",description:"By Subtitle"},{name:"authors",description:"By Authors"}],c.currentSearchField=c.searchFields[0],a()}angular.module("app").controller("BookListController",n),n.$inject=["$location","$log","sessionService","bookDataService","cfpLoadingBar"]}(),function(){"use strict";function n(n,e,r,t,o,a){function i(){d()}function s(){return o.loggedOn&&m}function l(){n.path("/books/edit/"+m)}function c(){var e={title:"Delete Book?",content:"You are about to delete book <em>"+u.book.title+"</em>"},o=t.open({controller:"VerificationController",controllerAs:"vm",templateUrl:"app/tmplVerification.html",size:"sm",resolve:{opts:function(){return e}}});o.result.then(function(e){"ok"===e&&a.deleteItem(m).then(function(e){r.info("Deleted Book %o",e),toastr.success("Book deleted"),n.url("/books")},function(n){r.error(n),toastr.error(n.error.code+" "+n.error.error)})},function(){toastr.info("Delete cancelled by user")})}function d(){a.getItem(m).then(function(n){u.book=n.data},function(e){r.error(e),toastr.error(e.error.code+" "+e.error.error),n.url("/books")}).then(function(){r.info("*** Activated BookViewController"),r.debug("   bookId      => %s",m),r.debug("   vm.book     => %o",u.book)})}var u=this,m=e.bookId;u.book=null,u.canEdit=s,u["delete"]=c,u.edit=l,u.session=o,i()}angular.module("app").controller("BookViewController",n),n.$inject=["$location","$routeParams","$log","$modal","sessionService","bookDataService"]}(),function(){"use strict";function n(n,e,r,t){var o={},a="https://api.parse.com/1/classes/AudioBook",i=t.Object.extend("AudioBook"),s=100;return o.getItem=function(e){var t={headers:{"X-Parse-Session-Token":r.sessionToken},isArray:!1,method:"GET",url:a+"/"+e};return n(t)},o.getItems=function(){var e={headers:{"X-Parse-Session-Token":r.sessionToken},isArray:!1,method:"GET",url:a+"?count=1&limit=1000&order=title"};return n(e)},o.getPage=function(e,t,o){var i=""===t?"":'&where={"'+e+'":{"$gte":"'+t+'"}}',l=(o-1)*s,c="?count=1&limit="+s+"&skip="+l+"&order="+e+i,d={headers:{"X-Parse-Session-Token":r.sessionToken},isArray:!1,method:"GET",url:a+c};return n(d)},o.queryData=function(n,r){var o=new t.Query(i),a=e.defer();return o.startsWith(n,r),o.find({success:function(n){a.resolve(n)},error:function(n){a.reject(n)}}),a.promise},o.updateItem=function(e){var t=void 0===e.objectId,o=t?a+"/":a+"/"+e.objectId,i={headers:{"X-Parse-Session-Token":r.sessionToken},method:t?"POST":"PUT",url:o,data:e};return n(i)},o.deleteItem=function(e){var t=a+"/"+e,o={headers:{"X-Parse-Session-Token":r.sessionToken},method:"DELETE",url:t};return n(o)},o}angular.module("app").factory("bookDataService",n),n.$inject=["$http","$q","sessionService","Parse"]}(),function(){"use strict";function n(n,e,r,t,o,a){function i(){"_new"===c.cacheId?c.cache={cacheId:"",cacheType:"",name:"",coords:"",verifiedCoords:!1}:o.getItem(c.cacheId).then(function(n){c.cache=n.data,c.currentType=c.cache.cacheType},function(n){r.error(n),a.error(n.error.code+" "+n.error.error),e.url("/cheats")})}function s(){o.updateItem(c.cache).then(function(n){r.info("Saved Cache %o",n),a.success("Cache saved"),e.url("/cheats")},function(n){r.error("Error saving Cache %o",n),a.error(n.error.code+" "+n.error.error),e.url("/cheats")})}function l(){r.info("Cancelled Edit"),a.warning("Edit cancelled"),e.url("/cheats")}var c=this;c.cancel=l,c.save=s,c.session=t,c.cacheId=n.cacheId,c.cacheTypes=["Tradi","Mystery","Multi","Chirp","Earth","Letterbox","Event","Lab","Virtual","Wherigo"],c.municipalities=["Akaa","Alajärvi","Alavieska","Alavus","Asikkala","Askola","Aura","Brändö","Eckerö","Enonkoski","Enontekiö","Espoo","Eura","Eurajoki","Evijärvi","Finström","Forssa","Föglö","Geta","Haapajärvi","Haapavesi","Hailuoto","Halsua","Hamina","Hammarland","Hankasalmi","Hanko","Harjavalta","Hartola","Hattula","Hausjärvi","Heinola","Heinävesi","Helsinki","Hirvensalmi","Hollola","Honkajoki","Huittinen","Humppila","Hyrynsalmi","Hyvinkää","Hämeenkoski","Hämeenkyrö","Hämeenlinna","Ii","Iisalmi","Iitti","Ikaalinen","Ilmajoki","Ilomantsi","Imatra","Inari","Inkoo","Isojoki","Isokyrö","Jalasjärvi","Janakkala","Joensuu","Jokioinen","Jomala","Joroinen","Joutsa","Juankoski","Juuka","Juupajoki","Juva","Jyväskylä","Jämijärvi","Jämsä","Järvenpää","Kaarina","Kaavi","Kajaani","Kalajoki","Kangasala","Kangasniemi","Kankaanpää","Kannonkoski","Kannus","Karijoki","Karkkila","Karstula","Karvia","Kaskinen","Kauhajoki","Kauhava","Kauniainen","Kaustinen","Keitele","Kemi","Kemijärvi","Keminmaa","Kemiönsaari","Kempele","Kerava","Keuruu","Kihniö","Kinnula","Kirkkonummi","Kitee","Kittilä","Kiuruvesi","Kivijärvi","Kokemäki","Kokkola","Kolari","Konnevesi","Kontiolahti","Korsnäs","Koski Tl","Kotka","Kouvola","Kristiinankaupunki","Kruunupyy","Kuhmo","Kuhmoinen","Kumlinge","Kuopio","Kuortane","Kurikka","Kustavi","Kuusamo","Kyyjärvi","Kärkölä","Kärsämäki","Kökar","Köyliö","Lahti","Laihia","Laitila","Lapinjärvi","Lapinlahti","Lappajärvi","Lappeenranta","Lapua","Laukaa","Lavia","Lemi","Lemland","Lempäälä","Leppävirta","Lestijärvi","Lieksa","Lieto","Liminka","Liperi","Lohja","Loimaa","Loppi","Loviisa","Luhanka","Lumijoki","Lumparland","Luoto","Luumäki","Luvia","Maalahti","Maaninka","Maarianhamina","Marttila","Masku","Merijärvi","Merikarvia","Miehikkälä","Mikkeli","Muhos","Multia","Muonio","Mustasaari","Muurame","Mynämäki","Myrskylä","Mäntsälä","Mänttä-Vilppula","Mäntyharju","Naantali","Nakkila","Nastola","Nivala","Nokia","Nousiainen","Nurmes","Nurmijärvi","Närpiö","Orimattila","Oripää","Orivesi","Oulainen","Oulu","Outokumpu","Padasjoki","Paimio","Paltamo","Parainen","Parikkala","Parkano","Pedersöre","Pelkosenniemi","Pello","Perho","Pertunmaa","Petäjävesi","Pieksämäki","Pielavesi","Pietarsaari","Pihtipudas","Pirkkala","Polvijärvi","Pomarkku","Pori","Pornainen","Porvoo","Posio","Pudasjärvi","Pukkila","Punkalaidun","Puolanka","Puumala","Pyhtää","Pyhäjoki","Pyhäjärvi","Pyhäntä","Pyhäranta","Pälkäne","Pöytyä","Raahe","Raasepori","Raisio","Rantasalmi","Ranua","Rauma","Rautalampi","Rautavaara","Rautjärvi","Reisjärvi","Riihimäki","Ristijärvi","Rovaniemi","Ruokolahti","Ruovesi","Rusko","Rääkkylä","Saarijärvi","Salla","Salo","Saltvik","Sastamala","Sauvo","Savitaipale","Savonlinna","Savukoski","Seinäjoki","Sievi","Siikainen","Siikajoki","Siikalatva","Siilinjärvi","Simo","Sipoo","Siuntio","Sodankylä","Soini","Somero","Sonkajärvi","Sotkamo","Sottunga","Sulkava","Sund","Suomussalmi","Suonenjoki","Sysmä","Säkylä","Taipalsaari","Taivalkoski","Taivassalo","Tammela","Tampere","Tarvasjoki","Tervo","Tervola","Teuva","Tohmajärvi","Toholampi","Toivakka","Tornio","Turku","Tuusniemi","Tuusula","Tyrnävä","Ulvila","Urjala","Utajärvi","Utsjoki","Uurainen","Uusikaarlepyy","Uusikaupunki","Vaala","Vaasa","Valkeakoski","Valtimo","Vantaa","Varkaus","Vehmaa","Vesanto","Vesilahti","Veteli","Vieremä","Vihti","Viitasaari","Vimpeli","Virolahti","Virrat","Vårdö","Vöyri","Ylitornio","Ylivieska","Ylöjärvi","Ypäjä","Ähtäri","Äänekoski"],i()}angular.module("app").controller("CheatsEditController",n),n.$inject=["$routeParams","$location","$log","sessionService","cheatsDataService","toastr"]}(),function(){"use strict";function n(n,e,r,t,o,a){function i(){t.loggedOn()||t.autoSignon().then(function(){e.info(v.session)},function(n){e.error(n)}),s()}function s(){t.userObj&&o.getItems().then(function(n){e.info(n),v.items=n.data.results},function(n){e.error(n),toastr.error(n.data.code+" "+n.data.error)})}function l(){n.path("/cheats/_new")}function c(e){n.path("/cheats/"+e.objectId)}function d(n){v.currentItem=n,p=r({scope:v,template:"app/tmplVerify.html",show:!0,title:"Delete Cache?",content:"You are about to delete cache <strong>"+n.name+"</strong>"})}function u(){p.hide(),toastr.warning("Delete cancelled")}function m(){p.hide(),o.deleteItem(v.currentItem).then(function(){e.info("Deleted Cache"),toastr.success("Cache deleted"),v.items=a.filter(v.items,function(n){return n.objectId!==v.currentItem.objectId})},function(n){e.error(n),toastr.error(n.error.code+" "+n.error.error)})}var v=this,p=null,g='<div class="ngCellText" ng-class="col.colIndex()">  <a target="_blank" href="http://coord.info/{{row.entity.cacheId}}">{{row.getProperty(col.field)}}</a></div>',f='<div class="ngCellText" ng-class="col.colIndex()">  <div class="btn-group">    <button type="button" class="btn btn-primary" data-ng-click="onEditClick(row.entity)">        <i class="fa fa-edit"></i>    </button>    <button type="button" class="btn btn-danger" data-ng-click="onDeleteClick(row.entity)">      <i class="fa fa-trash-o"></i>    </button>  </div></div>';v.dlgVerifyCancel=u,v.dlgVerifyOK=m,v.onAddClick=l,v.onDeleteClick=d,v.onEditClick=c,v.totalItems=0,v.currentItem=null,v.session=t,v.gridOptions={data:"items",rowHeight:44,multiSelect:!1,showGroupPanel:!0,columnDefs:[{field:"cacheId",displayName:"Id",width:"100",cellTemplate:g},{field:"updatedAt",displayName:"Updated",cellFilter:"date",width:"100"},{field:"cacheType",displayName:"Type",width:"100"},{field:"name",displayName:"Name"},{field:"municipality",displayName:"Municipality",width:"150"},{field:"coords",displayName:"Coords"},{field:"verifiedCoords",displayName:"Verified",width:"66"},{field:"objectId",displayName:"Commands",width:"86",cellTemplate:f}]},i()}angular.module("app").controller("CheatsListController",n),n.$inject=["$location","$log","$modal","sessionService","cheatsDataService","toastr","_"]}(),function(){"use strict";function n(n,e,r,t){function o(n){var e=l+"/"+n.objectId,o={headers:{"X-Parse-Session-Token":t.sessionToken},method:"DELETE",url:e};return r(o)}function a(n){var e={headers:{"X-Parse-Session-Token":t.sessionToken},isArray:!1,method:"GET",url:l+"/"+n};return r(e)}function i(){var n={headers:{"X-Parse-Session-Token":t.sessionToken},isArray:!1,method:"GET",url:l+"?count=1&limit=1000&order=name"};return r(n)}function s(n){var e=void 0===n.objectId,o=e?l+"/":l+"/"+n.objectId,a={headers:{"X-Parse-Session-Token":t.sessionToken},method:e?"POST":"PUT",url:o,data:n};return r(a)}var l="https://api.parse.com/1/classes/Cheat",c={deleteItem:o,getItem:a,getItems:i,municipalities:[],updateItem:s};return c}angular.module("app").factory("cheatsDataService",n),n.$inject=["$log","$q","$http","sessionService"]}(),function(){"use strict";function n(n,e,r,t,o){function a(){"_new"===l.eventId?l.event={starts:"",eventName:"",placeName:"",organizer:"",organizerUrl:"",smartum:!1}:o.getEvent(l.eventId).then(function(n){l.event=n.data},function(n){r.error(n),toastr.error(n.error.code+" "+n.error.error),e.url("/events")})}function i(){r.info("Cancelled Edit"),toastr.warning("Edit cancelled"),e.url("/events")}function s(){o.updateItem(l.event).then(function(n){r.info("Saved Event %o",n),toastr.success("Event saved"),e.url("/events")},function(n){r.error("Error saving Event %o",n),toastr.error(n.error.code+" "+n.error.error),e.url("/events")})}var l=this;l.cancel=i,l.event=null,l.eventId=n.eventId,l.save=s,l.session=t,a()}angular.module("app").controller("EventEditController",n),n.$inject=["$routeParams","$location","$log","sessionService","eventDataService"]}(),function(){"use strict";function n(n,e,r,t,o,a){function i(){c()}function s(){p.hide(),toastr.warning("Delete cancelled")}function l(){p.hide(),o.deleteItem(v.currentItem).then(function(){e.info("Deleted Event"),toastr.success("Event deleted"),v.events=a.filter(v.events,function(n){return n.objectId!==v.currentItem.objectId})},function(n){e.error(n),toastr.error(n.error.code+" "+n.error.error)})}function c(){o.getEvents().then(function(n){v.events=n.data.results},function(n){e.error(n),toastr.error(n.error.code+" "+n.error.error)})}function d(){n.path("/events/_new")}function u(n){v.currentItem=n,p=r({scope:v,template:"app/tmplVerify.html",show:!0,title:"Delete Event?",content:"You are about to delete event <em>"+n.eventName+"/"+n.placeName+"</em>"})}function m(e){n.path("/events/"+e.objectId)}var v=this,p=null;v.currentItem=null,v.dlgVerifyCancel=s,v.dlgVerifyOK=l,v.events=[],v.onAddClick=d,v.onDeleteClick=u,v.onEditClick=m,v.session=t,v.totalItems=0,i()}angular.module("app").controller("EventListController",n),n.$inject=["$location","$log","$modal","sessionService","eventDataService","_"]}(),function(){"use strict";function n(n,e,r,t){function o(n){var e=l+"/"+n.objectId,o={headers:{"X-Parse-Session-Token":t.sessionToken},method:"DELETE",url:e};return r(o)}function a(n){var e={isArray:!1,method:"GET",url:l+"/"+n};return r(e)}function i(){var n={isArray:!1,method:"GET",url:l+"?count=1&limit=1000&order=starts"};return r(n)}function s(n){var e=void 0===n.objectId,o=e?l+"/":l+"/"+n.objectId,a={headers:{"X-Parse-Session-Token":t.sessionToken},method:e?"POST":"PUT",url:o,data:n};return r(a)}var l="https://api.parse.com/1/classes/Event",c={deleteItem:o,getEvent:a,getEvents:i,updateItem:s};return c}angular.module("app").factory("eventDataService",n),n.$inject=["$log","$q","$http","sessionService"]}(),function(){"use strict";function n(n,e,r,t,o,a){function i(){"_new"===d.movieId?d.movie={seenAt:{__type:"Date",iso:(new Date).toISOString()},etitle:"",otitle:"",pic:"",rating:0,url:"",synopsis:"",comment:""}:o.getItem(d.movieId).then(function(n){d.movie=n.data,r.debug("vm.movie -> %o",d.movie)},function(n){r.error(n),a.error(n.error.code+" "+n.error.error),e.url("/movies")})}function s(){r.info("Cancelled Edit"),a.warning("Edit cancelled"),e.url("/movies")}function l(){o.updateItem(d.movie).then(function(n){r.info("Saved Movie %o",n),a.success("Movie saved"),e.url("/movies")},function(n){r.error("Error saving Movie %o",n),a.error(n.error.code+" "+n.error.error),e.url("/movies")})}function c(n){n.preventDefault(),n.stopPropagation(),d.opened=!0}var d=this;d.dateOptions={formatYear:"yy",startingDay:1},d.doCancel=s,d.doSave=l,d.movieId=n.movieId,d.open=c,d.opened=!1,d.session=t,i()}angular.module("app").controller("MovieEditController",n),n.$inject=["$routeParams","$location","$log","sessionService","movieDataService","toastr"]}(),function(){"use strict";function n(n,e,r,t,o,a,i){function s(){u()}function l(){p.hide(),a.warning("Delete cancelled")}function c(){p.hide(),o.deleteItem(v.currentItem).then(function(){r.info("Deleted Movie"),a.success("Movie deleted"),v.items=i.filter(v.items,function(n){return n.objectId!==v.currentItem.objectId})},function(n){r.error(n),a.error(n.error.code+" "+n.error.error)})}function d(){v.currentPage+=1,u()}function u(){v.fetching||(v.fetching=!0,o.getPage(v.order,v.filter,v.currentPage).then(function(n){v.items=v.items.concat(n.data.results),v.totalItems=n.data.count,v.fetching=!1},function(n){r.error(n),a.error(n.error.code+" "+n.error.error),v.fetching=!1}))}function m(n){v.currentItem=n,p=e({scope:v,template:"app/tmplVerify.html",show:!0,title:"Delete Movie?",content:"You are about to delete movie <em>"+n.etitle+"</em>"})}var v=this,p=null;v.session=t,v.filter="",v.currentPage=1,v.dlgVerifyCancel=l,v.dlgVerifyOK=c,v.maxSize=10,v.onDeleteClick=m,v.order="-seenAt",v.scroll=d,v.totalItems=0,v.currentItem=null,v.items=[],v.fetching=!1,s()}angular.module("app").controller("MovieListController",n),n.$inject=["$location","$modal","$log","sessionService","movieDataService","toastr","_"]}(),function(){"use strict";function n(n,e,r,t,o,a){function i(){r.info("*** Activated MovieViewController"),d()}function s(){return o.loggedOn&&m}function l(){n.path("/movies/edit/"+m)}function c(){var e={title:"Delete Movie?",content:'You are about to delete Movie "'+u.movie.otitle+'"'},o=t.open({controller:"VerificationController",controllerAs:"vm",templateUrl:"app/tmplVerification.html",size:"sm",resolve:{opts:function(){return e}}});o.result.then(function(e){"ok"===e&&a.deleteItem(m).then(function(e){r.info("Deleted Movie %o",e),toastr.success("Movie deleted"),n.url("/movies")},function(n){r.error(n),toastr.error(n.error.code+" "+n.error.error)})},function(){toastr.info("Delete cancelled by user")})}function d(){a.getItem(m).then(function(n){u.movie=n.data,r.debug("   movieId      => %s",m),r.debug("   vm.movie     => %o",u.movie)},function(e){r.error(e),toastr.error(e.error.code+" "+e.error.error),n.url("/movies")})}var u=this,m=e.movieId;u.movie=null,u.canEdit=s,u["delete"]=c,u.edit=l,u.session=o,i()}angular.module("app").controller("MovieViewController",n),n.$inject=["$location","$routeParams","$log","$modal","sessionService","movieDataService"]}(),function(){"use strict";function n(n,e){function r(r){return n({headers:{"X-Parse-Session-Token":e.sessionToken},isArray:!1,method:"GET",url:s+"/"+r})}function t(){return n({headers:{"X-Parse-Session-Token":e.sessionToken},isArray:!1,method:"GET",url:s+"?count=1&limit=1000&order=-seenAt"})}function o(r,t,o){var a=""===t?"":'&where={"'+r+'":{"$gte":"'+t+'"}}',i=(o-1)*c.pageSize,l="?count=1&limit="+c.pageSize+"&skip="+i+"&order="+r+a,d={headers:{"X-Parse-Session-Token":e.sessionToken},isArray:!1,method:"GET",url:s+l};return n(d)}function a(r){var t=void 0===r.objectId,o=t?s+"/":s+"/"+r.objectId;return n({headers:{"X-Parse-Session-Token":e.sessionToken},method:t?"POST":"PUT",url:o,data:r})}function i(r){return n({headers:{"X-Parse-Session-Token":e.sessionToken},method:"DELETE",url:s+"/"+r})}var s="https://api.parse.com/1/classes/Movie",l=100,c={pageSize:l,getItem:r,getItems:t,getPage:o,updateItem:a,deleteItem:i};return c}angular.module("app").service("movieDataService",n),n.$inject=["$http","sessionService"]}(),angular.module("app").run(["$templateCache",function(n){n.put("app/footer.html",'<footer>\r\n    <div class="container">\r\n        &copy; 2014, Kaj Lund\r\n    </div>\r\n</footer>\r\n'),n.put("app/header.html",'<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation" data-ng-controller="HeaderController as vm"\r\n     xmlns="http://www.w3.org/1999/html">\r\n        <!-- Brand and toggle get grouped for better mobile display -->\r\n        <div class="navbar-header">\r\n            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">\r\n                <span class="sr-only">Toggle navigation</span>\r\n                <span class="icon-bar"></span>\r\n                <span class="icon-bar"></span>\r\n                <span class="icon-bar"></span>\r\n            </button>\r\n            <a class="navbar-brand" data-ng-href="#/home">\r\n                <img src="../img/LuKa_32x32.png" class="img-circle">\r\n                <span>rannikkohurri.net</span>\r\n            </a>\r\n        </div>\r\n\r\n        <!-- Collect the nav links, forms, and other content for toggling -->\r\n        <div class="collapse navbar-collapse">\r\n            <ul class="nav navbar-nav">\r\n                <li data-ng-class="vm.getClass(\'/books\')">\r\n                    <a href="#/books">\r\n                        <i class="fa fa-book"></i> Books\r\n                    </a>\r\n                </li>\r\n                <li data-ng-class="vm.getClass(\'/movies\')">\r\n                    <a href="#/movies">\r\n                        <i class="fa fa-film"></i> Movies\r\n                    </a>\r\n                </li>\r\n                <li class="divider"></li>\r\n                <li data-ng-class="vm.getClass(\'/events\')">\r\n                    <a href="#/events">\r\n                        <i class="fa fa-flag"></i> Events\r\n                    </a>\r\n                </li>\r\n            </ul>\r\n\r\n            <ul class="nav navbar-nav navbar-right">\r\n                <li data-ng-class="{hidden: vm.session.loggedOn}">\r\n                    <a href="" ng-click="vm.onSignonClick()" a-disabled="vm.session.loggedOn">\r\n                        <i class="fa fa-sign-in"></i> Sign in\r\n                    </a>\r\n                </li>\r\n                <li data-ng-class="{hidden: !vm.session.loggedOn}">\r\n                    <a href="" ng-click="vm.onSignoffClick()" a-disabled="!vm.session.loggedOn">\r\n                        <i class="fa fa-sign-out"></i> Sign out\r\n                    </a>\r\n                </li>\r\n                <li class="divider"></li>\r\n                <li class="navbar-text" data-ng-class="{hidden: vm.session.loggedOn}">\r\n                    <i class="fa fa-user"></i> anonymous&nbsp;\r\n                </li>\r\n                <li class="navbar-text" data-ng-class="{hidden: !vm.session.loggedOn}">\r\n                    <i class="fa fa-user"></i> {{vm.session.userObj.username}}&nbsp;\r\n                </li>\r\n            </ul>\r\n        </div> <!-- /.navbar-collapse -->\r\n</nav>'),n.put("app/home.html",'<div class="container">\r\n    <div class="page-header">\r\n        <h1><i class="fa fa-home"></i> HOME <small>&raquo;is where I lay my hat</small></h1>\r\n    </div>\r\n    <div class="row">\r\n        <div class="col-sm-8">\r\n            <div class="jumbotron">\r\n                <div class="container">\r\n                    <h1>Welcome!</h1>\r\n                    <p>You have found the personal website of Kaj Lund a.k.a. LuKa.</p>\r\n                    <p>You\'ll mostly find some experimental apps here.</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="col-sm-4">\r\n            <div class="row">\r\n                <h3>Find me on</h3>\r\n            </div>\r\n            <div class="row">\r\n                <div class="col-xs-6 soc-link">\r\n                    <a href="https://facebook.com/kajlund" class="btn btn-block btn-primary" target="_blank">\r\n                        <i class="fa fa-facebook fa-5x"></i><p>Facebook</p>\r\n                    </a>\r\n                </div>\r\n                <div class="col-xs-6 soc-link">\r\n                    <a href="https://twitter.com/kajlund" class="btn btn-block btn-info" target="_blank">\r\n                        <i class="fa fa-twitter fa-5x"></i><p>Twitter</p>\r\n                    </a>\r\n                </div>\r\n            </div>\r\n            <div class="row">\r\n                <div class="col-xs-6 soc-link">\r\n                    <a href="https://plus.google.com/110969163046046858047/about" class="btn btn-block btn-danger" target="_blank">\r\n                        <i class="fa fa-google-plus fa-5x"></i><p>Google+</p>\r\n                    </a>\r\n                </div>\r\n                <div class="col-xs-6 soc-link">\r\n                    <a href="http://www.linkedin.com/in/kajlund" class="btn btn-block btn-success" target="_blank">\r\n                        <i class="fa fa-linkedin fa-5x"></i><p>Linkedin</p>\r\n                    </a>\r\n                </div>\r\n            </div>\r\n            <div class="row">\r\n                <div class="col-xs-6 soc-link">\r\n                    <a href="https://github.com/kajlund" class="btn btn-block btn-github" target="_blank">\r\n                        <i class="fa fa-github fa-5x"></i><p>Github</p>\r\n                    </a>\r\n                </div>\r\n                <div class="col-xs-6 soc-link">\r\n                    <a href="http://www.flickr.com/photos/kajlund" class="btn btn-block btn-flickr" target="_blank">\r\n                        <i class="fa fa-flickr fa-5x"></i><p>Flickr</p>\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'),n.put("app/tmplSignon.html",'    <form name="frm" class="form-horizontal" role="form" ng-submit="vm.login()">\r\n        <div class="modal-header">\r\n            <h3 class="modal-title">Login</h3>\r\n        </div>\r\n        <div class="modal-body">\r\n            <div class="form-group">\r\n                <label for="userName" class="col-md-3 control-label">User name</label>\r\n                <div class="col-md-8">\r\n                    <input id="userName" type="text" class="form-control" autofocus data-ng-model="vm.user.name">\r\n                </div>\r\n            </div>\r\n            <div class="form-group">\r\n                <label for="pwd" class="col-md-3 control-label">Password</label>\r\n                <div class="col-md-8">\r\n                    <input id="pwd" type="password" class="form-control" data-ng-model="vm.user.pwd">\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="modal-footer">\r\n            <input class="btn btn-success" type="submit" ng-disabled="frm.$invalid" value="OK">\r\n            <button class="btn btn-warning" ng-click="vm.cancel()">Cancel</button>\r\n        </div>\r\n    </form>\r\n'),n.put("app/tmplVerification.html",'<div class="modal-header">\r\n    <h3 class="modal-title">{{vm.opts.title}}</h3>\r\n</div>\r\n<div class="modal-body">\r\n    {{vm.opts.content}}\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-success" ng-click="vm.ok()">\r\n        OK <i class="fa fa-check"></i>\r\n    </button>\r\n    <a href="" class="btn btn-link" ng-click="vm.cancel()">Cancel</a>\r\n</div>'),n.put("app/books/edit.html",'<div class="container">\r\n    <div class="page-header">\r\n        <h1><i class="fa fa-book"></i> Edit Book <small>{{ vm.book.title }}</small></h1>\r\n    </div>\r\n\r\n    <div data-ng-if="!vm.session.loggedOn">\r\n        <div class="jumbotron">\r\n            <h1>Sorry <small>:-(</small></h1>\r\n            <p>You need to be logged on to edit books.</p>\r\n        </div>\r\n    </div>\r\n\r\n    <div data-ng-if="vm.session.loggedOn">\r\n        <form name="frm" role="form" ng-submit="vm.save()">\r\n            <div class="form-group">\r\n                <label class="control-label">Title</label>\r\n                <input type="text" class="form-control" ng-model="vm.book.title" required autofocus>\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="control-label">Subtitle</label>\r\n                <input type="text" class="form-control" ng-model="vm.book.subtitle" >\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="control-label">Author(s)</label>\r\n                <input type="text" class="form-control" ng-model="vm.book.authors" >\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="control-label">Language</label>\r\n                <select class="form-control"\r\n                        data-ng-model="vm.book.lang"\r\n                        data-ng-options="l for l in vm.languages">\r\n                </select>\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="control-label">Genre</label>\r\n                <select class="form-control"\r\n                        data-ng-model="vm.book.genre"\r\n                        data-ng-options="g for g in vm.genres">\r\n                </select>\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="control-label">Image</label>\r\n                <input type="text" class="form-control" ng-model="vm.book.image" >\r\n            </div>\r\n            <div class="form-actions pull-right">\r\n                <button class="btn btn-lg btn-default" ng-click="vm.cancel()">Cancel</button>\r\n                <input class="btn btn-lg btn-success" type="submit" ng-disabled="frm.$invalid" value="Save">\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>\r\n'),n.put("app/books/list.html",'<div class="container">\r\n    <div class="page-header">\r\n        <button type="button" class="btn btn-primary pull-right"\r\n                data-ng-click="vm.onAddClick()"\r\n                data-ng-class="{hidden: !vm.session.loggedOn}">\r\n            New Book\r\n        </button>\r\n        <h1><i class="fa fa-book"></i> BOOKS <small>&raquo; audiobooks list</small></h1>\r\n    </div>\r\n\r\n    <div class="row" style="padding-bottom: 18px;">\r\n        <div class="col-xs-12">\r\n            <form name="frm" class="form-inline" role="form" novalidate>\r\n                <div class="form-group">\r\n                    <select class="form-control" ng-model="vm.currentSearchField" ng-options="s.description for s in vm.searchFields">\r\n                    </select>\r\n                        <input type="text" class="form-control" ng-model="vm.searchKey" placeholder="Search for" required />\r\n                        <button class="btn btn-success" ng-disabled="frm.$invalid" ng-click="vm.search()"><i class="fa fa-search"></i> Find</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="row">\r\n        <div class="col-xs-12">\r\n            <div class="list-group">\r\n                <a class="list-group-item" href="#/books/view/{{i.id}}" data-ng-repeat="i in vm.items">\r\n                    <img class="pull-left img-rounded" ng-src="https://dl.dropboxusercontent.com/u/133963/Images/Books/thumbs/{{ i.get(\'image\') }}.jpg">\r\n                    <i class="pull-right fa  fa-2x fa-chevron-right"></i>\r\n                    <h3 class="list-group-item-heading">{{ i.get(\'title\') }}&nbsp;<small>{{ i.get(\'subtitle\') }}</small></h3>\r\n                    <p class="list-group-item-text">\r\n                        Authors: {{ i.get(\'authors\') }} | Genre: {{ i.get(\'genre\') }} | Language: {{ i.get(\'lang\') }}\r\n                    </p>\r\n                </a>\r\n                <!--li class="media" data-ng-repeat="i in vm.items">\r\n\r\n                    <div class="media-body">\r\n                        <div class="btn-group pull-right" data-ng-class="{hidden: !vm.session.loggedOn}">\r\n                            <button type="button" class="btn btn-primary"\r\n                                    data-ng-click="vm.onEditClick(i)">\r\n                                <i class="fa fa-edit"></i>\r\n                            </button>\r\n                            <button type="button" class="btn btn-danger"\r\n                                    data-ng-click="vm.onDeleteClick(i)">\r\n                                <i class="fa fa-trash-o"></i>\r\n                            </button>\r\n                        </div>\r\n                        <h4 class="media-heading">{{ i.get(\'title\') }}&nbsp;<small>{{ i.get(\'subtitle\') }}</small></h4>\r\n                        <small>Author: {{ i.get(\'authors\') }} | Genre: {{ i.get(\'genre\') }} | Lang: {{ i.get(\'lang\') }}</small>\r\n                    </div>\r\n                </li-->\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'),n.put("app/books/view.html",'<div class="container">\r\n    <div class="page-header">\r\n        <a href="#/books" class="pull-right btn btn-default"><i class="fa fa-chevron-left"></i> Back</a>\r\n        <h1><i class="fa fa-book"></i> Book <small>{{ vm.book.title }}</small></h1>\r\n    </div>\r\n\r\n    <div class="row data-presentation">\r\n        <div class="col-xs-9">\r\n            <div class="row">\r\n                <div class="col-xs-4 col-sm-2 data-title">Title</div>\r\n                <div class="col-xs-8 col-sm-10 data-content">{{ vm.book.title }}</div>\r\n            </div>\r\n            <div class="row">\r\n                <div class="col-xs-4 col-sm-2 data-title">Subtitle</div>\r\n                <div class="col-xs-8 col-sm-10 data-content">{{ vm.book.subtitle }}</div>\r\n            </div>\r\n            <div class="row">\r\n                <div class="col-xs-4 col-sm-2 data-title">Author(s)</div>\r\n                <div class="col-xs-8 col-sm-10 data-content">{{ vm.book.authors }}</div>\r\n            </div>\r\n            <div class="row">\r\n                <div class="col-xs-4 col-sm-2 data-title">Language</div>\r\n                <div class="col-xs-8 col-sm-10 data-content">{{ vm.book.lang }}</div>\r\n            </div>\r\n            <div class="row">\r\n                <div class="col-xs-4 col-sm-2 data-title">Category</div>\r\n                <div class="col-xs-8 col-sm-10 data-content">{{ vm.book.genre }}</div>\r\n            </div>\r\n        </div>\r\n        <div class="col-xs-3">\r\n            <img ng-src="https://dl.dropboxusercontent.com/u/133963/Images/Books/{{vm.book.image}}.jpg"\r\n                 class="cover-image img-thumbnail" alt="Cover image">\r\n        </div>\r\n    </div>\r\n    <div class="row commands" ng-class="{hidden: !vm.canEdit()}">\r\n        <div class="col-xs-12 col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3 col-lg-3 col-lg-offset-1">\r\n            <button class="btn btn-lg btn-block btn-primary" ng-click="vm.edit()">Edit</button>\r\n        </div>\r\n        <div class="col-xs-12 col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3 col-lg-3 col-lg-offset-1">\r\n            <button class="btn btn-lg btn-block btn-danger" ng-click="vm.delete()">Delete</button>\r\n        </div>\r\n    </div>\r\n</div>\r\n'),n.put("app/cheats/edit.html",'<div class="container">\r\n    <div class="page-header">\r\n        <h1><i class="fa fa-dot-circle-o"></i> Edit Cache <small>{{ vm.cache.name }}</small></h1>\r\n    </div>\r\n\r\n    <div data-ng-if="!vm.session.loggedOn">\r\n        <div class="jumbotron">\r\n            <h1>Sorry <small>:-(</small></h1>\r\n            <p>You need to be logged on to edit cheats.</p>\r\n        </div>\r\n    </div>\r\n\r\n    <div data-ng-if="vm.session.loggedOn()">\r\n        <form name="frm" role="form" ng-submit="vm.save()">\r\n            <div class="form-group">\r\n                <label class="control-label">Id</label>\r\n                <input type="text" class="form-control" ng-model="vm.cache.cacheId" required autofocus>\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="control-label">Type</label>\r\n                <select class="form-control"\r\n                        data-ng-model="vm.cache.cacheType"\r\n                        data-ng-options="t for t in vm.cacheTypes">\r\n                </select>\r\n            </div>\r\n            <div class="form-group">\r\n                <label>Name</label>\r\n                <input type="text" class="form-control" ng-model="vm.cache.name" required>\r\n            </div>\r\n            <div class="form-group">\r\n                <label>Coords</label>\r\n                <input type="text" class="form-control" ng-model="vm.cache.coords">\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="control-label">Municipality</label>\r\n                <select class="form-control"\r\n                        data-ng-model="vm.cache.municipality"\r\n                        data-ng-options="m for m in vm.municipalities">\r\n                </select>\r\n            </div>\r\n            <div class="checkbox">\r\n                <label>\r\n                    <input type="checkbox" ng-model="vm.cache.verifiedCoords"> Verified Coords\r\n                </label>\r\n            </div>\r\n            <div class="form-group">\r\n                <label>Notes</label>\r\n                <textarea class="form-control" rows="3" ng-model="vm.cache.notes"></textarea>\r\n            </div>\r\n            <div class="form-actions pull-right">\r\n                <button class="btn btn-lg btn-default" ng-click="vm.cancel()">Cancel</button>\r\n                <input class="btn btn-lg btn-success" type="submit" ng-disabled="frm.$invalid" value="Save">\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>'),n.put("app/cheats/list.html",'<div class="container">\r\n    <div class="page-header">\r\n        <button type="button" class="btn btn-primary pull-right"\r\n                data-ng-click="vm.onAddClick()"\r\n                data-ng-class="{hidden: !vm.session.loggedOn}">\r\n            New Cheat\r\n        </button>\r\n        <h1><i class="fa fa-dot-circle-o"></i> CHEATS <small>&raquo;geocaching cheats</small></h1>\r\n    </div>\r\n\r\n    <div data-ng-if="!vm.session.loggedOn">\r\n        <div class="jumbotron">\r\n            <h1>Sorry <small>:-(</small></h1>\r\n            <p>You need to be logged on to use Cheats.</p>\r\n        </div>\r\n    </div>\r\n\r\n    <div data-ng-if="vm.session.loggedOn()">\r\n        <div class="gridStyle" ng-grid="gridOptions"></div>\r\n        <!--table class="table table-striped table-hover">\r\n        <tr>\r\n            <th>Id</th><th>Updated</th><th>Type</th><th>Name</th><th>Municipality</th><th>Coords</th><th>Verified</th>\r\n            <th data-ng-class="{hidden: !session.loggedOn()}">\r\n                Commands\r\n            </th>\r\n        </tr>\r\n        <tr data-ng-repeat="i in items">\r\n            <td><a href="http://coord.info/{{ i.cacheId }}" target="_blank">{{ i.cacheId }}</a></td>\r\n            <td>{{i.updatedAt|date:\'yyyy.MM.dd\'}}</td>\r\n            <td>{{ i.cacheType }}</td>\r\n            <td>{{ i.name }}</td>\r\n            <td>{{ i.municipality }}</td>\r\n            <td>{{ i.coords }}</td>\r\n            <td>{{ i.verifiedCoords }}</td>\r\n            <td data-ng-class="{hidden: !session.loggedOn()}">\r\n                <div class="btn-group">\r\n                    <button type="button" class="btn btn-primary"\r\n                            data-ng-click="onEditClick(i)">\r\n                        <i class="fa fa-edit"></i>\r\n                    </button>\r\n                    <button type="button" class="btn btn-danger"\r\n                            data-ng-click="onDeleteClick(i)">\r\n                        <i class="fa fa-trash-o"></i>\r\n                    </button>\r\n                </div>\r\n            </td>\r\n        </tr>\r\n    </table-->\r\n    </div>\r\n</div>'),n.put("app/events/edit.html",'<div class="container">\r\n    <div class="page-header">\r\n        <h1><i class="fa fa-flag"></i> Edit Event <small>{{ vm.event.starts }}</small></h1>\r\n    </div>\r\n\r\n    <div data-ng-if="!vm.session.loggedOn">\r\n        <div class="jumbotron">\r\n            <h1>Sorry <small>:-(</small></h1>\r\n            <p>You need to be logged on to edit events.</p>\r\n        </div>\r\n    </div>\r\n\r\n    <div data-ng-if="vm.session.loggedOn()">\r\n        <form name="frm" role="form" ng-submit="vm.save()">\r\n            <div class="form-group">\r\n                <label class="control-label">When</label>\r\n                <input type="text" class="form-control" ng-model="vm.event.starts" required autofocus>\r\n            </div>\r\n\r\n            <div class="form-group">\r\n                <label>Place</label>\r\n                <input type="text" class="form-control" ng-model="vm.event.placeName">\r\n            </div>\r\n            <div class="form-group">\r\n                <label>Name</label>\r\n                <input type="text" class="form-control" rows="3" ng-model="vm.event.eventName" required>\r\n            </div>\r\n            <div class="form-group">\r\n                <label>Organizer</label>\r\n                <input type="text" class="form-control" ng-model="vm.event.organizer">\r\n            </div>\r\n            <div class="form-group">\r\n                <label>Url</label>\r\n                <input type="text" class="form-control" ng-model="vm.event.organizerUrl">\r\n            </div>\r\n            <div class="checkbox">\r\n                <label>\r\n                    <input type="checkbox" ng-model="vm.event.smartum"> Smartum\r\n                </label>\r\n            </div>\r\n            <div class="form-actions pull-right">\r\n                <button class="btn btn-lg btn-default" ng-click="vm.cancel()">Cancel</button>\r\n                <input class="btn btn-lg btn-success" type="submit" ng-disabled="frm.$invalid" value="Save">\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>\r\n'),n.put("app/events/list.html",'<div class="container">\r\n    <div class="page-header">\r\n        <button type="button" class="btn btn-primary pull-right"\r\n                data-ng-click="vm.onAddClick()"\r\n                data-ng-class="{hidden: !vm.session.loggedOn}">\r\n            Add Event\r\n        </button>\r\n        <h1><i class="fa fa-flag"></i> EVENTS <small>&raquo;orienteering events</small></h1>\r\n    </div>\r\n\r\n    <table class="table table-striped table-hover">\r\n        <tr>\r\n            <th>Time</th><th>Place</th><th>Name</th><th>Organizer</th><th>Smartum</th>\r\n            <th data-ng-class="{hidden: !vm.session.loggedOn}">\r\n                Commands\r\n            </th>\r\n        </tr>\r\n        <tr data-ng-repeat="e in vm.events">\r\n            <td>{{ e.starts }}</td>\r\n            <td>{{ e.placeName }}</td>\r\n            <td>{{ e.eventName }}</td>\r\n            <td><a href="{{ e.organizerUrl }}" target="_blank">{{ e.organizer }}</a></td>\r\n            <td>{{ e.smartum }}</td>\r\n            <td data-ng-class="{hidden: !vm.session.loggedOn}">\r\n                <div class="btn-group">\r\n                    <button type="button" class="btn btn-primary"\r\n                            data-ng-click="vm.onEditClick(e)">\r\n                        <i class="fa fa-edit"></i>\r\n                    </button>\r\n                    <button type="button" class="btn btn-danger"\r\n                            data-ng-click="vm.onDeleteClick(e)">\r\n                        <i class="fa fa-trash-o"></i>\r\n                    </button>\r\n                </div>\r\n            </td>\r\n        </tr>\r\n    </table>\r\n</div>'),n.put("app/movies/edit.html",'<div class="container">\r\n    <div class="page-header">\r\n        <h1><i class="fa fa-film"></i> Edit Movie <small>{{ vm.movie.etitle }}</small></h1>\r\n    </div>\r\n\r\n    <div data-ng-if="!vm.session.loggedOn">\r\n        <div class="jumbotron">\r\n            <h1>Sorry <small>:-(</small></h1>\r\n            <p>You need to be logged on to edit movies.</p>\r\n        </div>\r\n    </div>\r\n\r\n    <div data-ng-if="vm.session.loggedOn">\r\n        <form name="frm" role="form" ng-submit="vm.doSave()">\r\n            <div class="form-group">\r\n                <label class="control-label">Seen</label>\r\n                <p class="input-group">\r\n                    <input type="text" class="form-control" datepicker-popup="yyyy-MM-dd" autofocus\r\n                           ng-model="vm.movie.seenAt.iso"\r\n                           is-open="vm.opened"\r\n                           datepicker-options="vm.dateOptions"\r\n                           ng-required="true" close-text="Close" />\r\n                    <span class="input-group-btn">\r\n                        <button type="button" class="btn btn-default" ng-click="vm.open($event)">\r\n                            <i class="fa fa-calendar"></i>\r\n                        </button>\r\n                    </span>\r\n                </p>\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="control-label">Original Title</label>\r\n                <input type="text" class="form-control" ng-model="vm.movie.otitle">\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="control-label">Secondary Title</label>\r\n                <input type="text" class="form-control" ng-model="vm.movie.etitle">\r\n            </div>\r\n\r\n            <div class="form-group">\r\n                <label class="control-label">Rating</label>\r\n                <input type="number" class="form-control" name="rating" min="0"\r\n                       max="10" step="0.1" ng-model="vm.movie.rating">\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="control-label">Url</label>\r\n                <input type="url" class="form-control" ng-model="vm.movie.url" >\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="control-label">Picture</label>\r\n                <input type="text" class="form-control" ng-model="vm.movie.pic" >\r\n            </div>\r\n            <div class="form-group">\r\n                <label>Synopsis</label>\r\n                <textarea class="form-control" rows="5" ng-model="vm.movie.synopsis"></textarea>\r\n            </div>\r\n            <div class="form-group">\r\n                <label>Comment</label>\r\n                <textarea class="form-control" rows="2" ng-model="vm.movie.comment"></textarea>\r\n            </div>\r\n            <div class="form-actions pull-right">\r\n                <a href="" class="btn btn-link pull-right" ng-click="vm.doCancel()">Cancel</a>\r\n                <input class="btn btn-default" type="submit" ng-disabled="frm.$invalid" value="Save">\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>\r\n'),n.put("app/movies/list.html",'<div class="container">\r\n    <div class="page-header">\r\n        <a href="#movies/edit/_new"\r\n           class="btn btn-default pull-right"\r\n           ng-class="{hidden: !vm.session.loggedOn}">\r\n            <i class="fa fa-plus"></i> Add Movie\r\n        </a>\r\n        <h1><i class="fa fa-film"></i> MOVIES <small>&raquo; is movies I\'ve seen</small></h1>\r\n    </div>\r\n\r\n    <div class="row">\r\n        <div class="col-xs-12" infinite-scroll="vm.scroll()" infinite-scroll-distance="1" infinite-scroll-disabled="fetching">\r\n            <div class="list-group">\r\n                <a class="list-group-item" href="#/movies/view/{{i.objectId}}" data-ng-repeat="i in vm.items">\r\n                    <i class="pull-right fa  fa-2x fa-chevron-right"></i>\r\n                    <h3 class="list-group-item-heading">\r\n                        {{ i.otitle }}&nbsp;\r\n                        <small>{{ i.seenAt.iso | date: \'yyyy-MM-dd\'}}</small>\r\n                    </h3>\r\n                    <p class="list-group-item-text">\r\n                        Rating: {{ i.rating }}\r\n                    </p>\r\n                </a>\r\n            </div>\r\n\r\n\r\n            <!--table class="table table-striped table-hover">\r\n                <tr>\r\n                    <th>Seen</th><th>Title</th><th>Rating</th>\r\n                    <th data-ng-class="{hidden: !vm.session.loggedOn}">\r\n                        Commands\r\n                    </th>\r\n                </tr>\r\n                <tr data-ng-repeat="i in vm.items">\r\n                    <td>{{ i.seenAt.iso | date: \'yyyy-MM-dd\'}}</td>\r\n                    <td><a href="{{ i.url }}" target="_blank">{{ i.etitle }}</a></td>\r\n                    <td>{{ i.rating }}</td>\r\n                    <td data-ng-class="{hidden: !vm.session.loggedOn}">\r\n                        <div class="btn-group">\r\n                            <button type="button" class="btn btn-primary"\r\n                                    data-ng-click="vm.onEditClick(i)">\r\n                                <i class="fa fa-edit"></i>\r\n                            </button>\r\n                            <button type="button" class="btn btn-danger"\r\n                                    data-ng-click="vm.onDeleteClick(i)">\r\n                                <i class="fa fa-trash-o"></i>\r\n                            </button>\r\n                        </div>\r\n                    </td>\r\n                </tr>\r\n            </table-->\r\n        </div>\r\n    </div>\r\n</div>'),n.put("app/movies/view.html",'<div class="container">\r\n    <div class="page-header">\r\n        <a href="#/movies" class="pull-right btn btn-default"><i class="fa fa-chevron-left"></i> Back</a>\r\n        <h1><i class="fa fa-film"></i> Movie <small>{{ vm.movie.otitle }}</small></h1>\r\n    </div>\r\n\r\n    <div class="row data-presentation">\r\n        <div class="col-xs-9">\r\n            <div class="row">\r\n                <div class="col-xs-4 col-sm-2 data-title">Original Title</div>\r\n                <div class="col-xs-8 col-sm-10 data-content">{{ vm.movie.otitle }}</div>\r\n            </div>\r\n            <div class="row">\r\n                <div class="col-xs-4 col-sm-2 data-title">Secondary Title</div>\r\n                <div class="col-xs-8 col-sm-10 data-content">{{ vm.movie.etitle }}</div>\r\n            </div>\r\n            <div class="row">\r\n                <div class="col-xs-4 col-sm-2 data-title">Seen</div>\r\n                <div class="col-xs-8 col-sm-10 data-content">{{ vm.movie.seenAt.iso | date: \'dd.MM.yyyy\' }}</div>\r\n            </div>\r\n            <div class="row">\r\n                <div class="col-xs-4 col-sm-2 data-title">\r\n                    <a href="{{vm.movie.url}}" target="_blank">IMDB Rating</a>\r\n                </div>\r\n                <div class="col-xs-8 col-sm-10 data-content">{{ vm.movie.rating | number:1}}</div>\r\n            </div>\r\n            <div class="row">\r\n                <div class="col-xs-4 col-sm-2 data-title">Synopsis</div>\r\n                <div class="col-xs-8 col-sm-10 data-content">{{ vm.movie.synopsis }}</div>\r\n            </div>\r\n            <div class="row">\r\n                <div class="col-xs-4 col-sm-2 data-title">Comment</div>\r\n                <div class="col-xs-8 col-sm-10 data-content">{{ vm.movie.comment }}</div>\r\n            </div>\r\n        </div>\r\n        <div class="col-xs-3">\r\n            <img ng-src="https://dl.dropboxusercontent.com/u/133963/Movies/{{vm.movie.pic}}"\r\n                 class="cover-image img-thumbnail" alt="Cover image">\r\n        </div>\r\n    </div>\r\n    <div class="row commands" ng-class="{hidden: !vm.session.loggedOn}">\r\n        <div class="col-xs-12 col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3 col-lg-3 col-lg-offset-1">\r\n            <a href="" class="btn btn-link pull-right" ng-click="vm.delete()">Delete</a>\r\n            <button class="btn btn-default pull-right " ng-click="vm.edit()">\r\n                <i class="fa fa-edit"></i> Edit\r\n            </button>\r\n        </div>\r\n    </div>\r\n</div>\r\n')
}]);