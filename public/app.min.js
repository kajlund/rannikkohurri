!function(){"use strict";function e(e,n,r,t){t.initialize("HZAMesseJ6CDe1K5dFLfxbGbMYD6aV3lBaEp3Ib1","BxuS4AKpUCoP6Ea6pOn1O0PXlmPu5wYvvlSxLJVE"),e.defaults.headers.common["X-Parse-Application-Id"]="HZAMesseJ6CDe1K5dFLfxbGbMYD6aV3lBaEp3Ib1",e.defaults.headers.common["X-Parse-REST-API-Key"]="LZqwu8VIutbaphzVoPW7yf4RxkKQAMbAapwubT5L",r.options.timeOut=4e3,r.options.positionClass="toast-bottom-right"}function n(e){e.when("/",{templateUrl:"app/home.html",controller:"HomeController",controllerAs:"vm"}).when("/logon",{templateUrl:"app/common/tmplLogon.html",controller:"LogonController",controllerAs:"vm"}).when("/books",{templateUrl:"app/books/list.html",controller:"BookListController",controllerAs:"vm"}).when("/books/view/:bookId",{templateUrl:"app/books/view.html",controller:"BookViewController",controllerAs:"vm"}).when("/books/edit/:bookId",{templateUrl:"app/books/edit.html",controller:"BookEditController",controllerAs:"vm"}).when("/movies",{templateUrl:"app/movies/list.html",controller:"MovieListController",controllerAs:"vm"}).when("/movies/view/:movieId",{templateUrl:"app/movies/view.html",controller:"MovieViewController",controllerAs:"vm"}).when("/movies/edit/:movieId",{templateUrl:"app/movies/edit.html",controller:"MovieEditController",controllerAs:"vm"}).when("/cheats",{templateUrl:"app/cheats/list.html",controller:"CheatListController",controllerAs:"vm"}).when("/cheats/view/:cacheId",{templateUrl:"app/cheats/view.html",controller:"CheatViewController",controllerAs:"vm"}).when("/cheats/edit/:cacheId",{templateUrl:"app/cheats/edit.html",controller:"CheatEditController",controllerAs:"vm"}).when("/events",{templateUrl:"app/events/list.html",controller:"EventListController",controllerAs:"vm"}).when("/events/:eventId",{templateUrl:"app/events/edit.html",controller:"EventEditController",controllerAs:"vm"}).otherwise({redirectTo:"/"})}function r(e){e.info("App Loaded")}angular.module("app",["ngRoute","ngAnimate","infinite-scroll","ngGrid","angular-loading-bar","ui.bootstrap","common"]),angular.module("app").config(e),angular.module("app").config(n),angular.module("app").run(r),e.$inject=["$httpProvider","localStorageServiceProvider","toastr","Parse"],n.$inject=["$routeProvider"],r.$inject=["$log"],angular.module("app").directive("aDisabled",function(){return{restrict:"A",priority:-99999,link:function(e,n,r){e.$watch(r.aDisabled,function(t,o){t?n.unbind("click"):o&&n.bind("click",function(){e.$apply(r.ngClick)})})}}})}(),function(){"use strict";function e(e){e.info("Activating HomeController")}angular.module("app").controller("HomeController",e),e.$inject=["$log"]}(),function(){"use strict";function e(e,n,r){var t=this;t.user=n,t.login=function(){r.signon(t.user.name,t.user.pwd).then(function(){e.close("ok")},function(e){toastr.error(e.error)})},t.cancel=function(){e.dismiss("cancel")}}angular.module("app").controller("SignonController",e),e.$inject=["$modalInstance","user","sessionService"]}(),function(){"use strict";function e(e,n){var r=this;r.opts=n,r.ok=function(){e.close("ok")},r.cancel=function(){e.dismiss("cancel")}}angular.module("app").controller("VerificationController",e),e.$inject=["$modalInstance","opts"]}(),function(){"use strict";function e(e,n,r,t,o,a){function i(){"_new"===d.bookId?d.book={authors:"",genre:"",image:"",lang:"",subtitle:"",title:""}:o.getItem(d.bookId).then(function(e){d.book=e.data},function(e){r.error(e),a.error(e.error.code+" "+e.error.error),n.url(d.getReturnUrl())})}function s(){r.info("Cancelled Edit"),a.warning("Edit cancelled"),n.url(d.getReturnUrl())}function l(){o.updateItem(d.book).then(function(e){r.info("Saved Book %o",e),a.success("Book saved"),n.url(d.getReturnUrl())},function(e){r.error("Error saving Book %o",e),a.error(e.error.code+" "+e.error.error)})}function c(){return"_new"===d.bookId?"/books":"/books/view/"+d.bookId}var d=this;d.bookId=e.bookId,d.doCancel=s,d.doSave=l,d.getReturnUrl=c,d.session=t,d.languages=["swe","eng","fin"],d.genres=["Biography","History","Kids","Misc","Novel","Science","Technology"],i()}angular.module("app").controller("BookEditController",e),e.$inject=["$routeParams","$location","$log","sessionService","bookDataService","toastr"]}(),function(){"use strict";function e(e,n,r,t){function o(){e.info("Activating BookListController"),i("title","")}function a(){l.fetching||(l.currentPage+=1,l.fetching=!0,r.getPage(l.currentPage).then(function(e){l.items=l.items.concat(e),l.fetching=!1},function(n){e.error(n),toastr.error(n.error.code+" "+n.error.error),l.fetching=!1}))}function i(){t.start(),r.queryData(l.currentSearchField.name,l.searchKey).then(function(e){l.currentPage=1,l.items=e},function(n){e.error("Error fetching Book data %o",n),toastr.error(n.message)}).then(function(){t.complete()})}function s(){i()}var l=this;l.currentPage=1,l.fetching=!1,l.filter="",l.items=[],l.maxSize=10,l.order="-createdAt",l.session=n,l.searchKey="",l.search=s,l.searchFields=[{name:"title",description:"By Title"},{name:"subtitle",description:"By Subtitle"},{name:"authors",description:"By Authors"}],l.scroll=a,l.currentSearchField=l.searchFields[0],l.totalItems=0,o()}angular.module("app").controller("BookListController",e),e.$inject=["$log","sessionService","bookDataService","cfpLoadingBar"]}(),function(){"use strict";function e(e,n,r,t,o,a){function i(){r.info("*** Activated BookViewController"),r.debug("   bookId      => %s",m),d()}function s(){return o.loggedOn&&m}function l(){e.path("/books/edit/"+m)}function c(){var n={title:"Delete Book?",content:'You are about to delete book "'+u.book.title+'"'},o=t.open({controller:"VerificationController",controllerAs:"vm",templateUrl:"app/tmplVerification.html",size:"sm",resolve:{opts:function(){return n}}});o.result.then(function(n){"ok"===n&&a.deleteItem(m).then(function(n){r.info("Deleted Book %o",n),toastr.success("Book deleted"),e.url("/books")},function(e){r.error(e),toastr.error(e.error.code+" "+e.error.error)})},function(){toastr.info("Delete cancelled by user")})}function d(){a.getItem(m).then(function(e){u.book=e.data,r.debug("   vm.book     => %o",u.book)},function(n){r.error(n),toastr.error(n.error.code+" "+n.error.error),e.url("/books")})}var u=this,m=n.bookId;u.book=null,u.canEdit=s,u["delete"]=c,u.edit=l,u.session=o,i()}angular.module("app").controller("BookViewController",e),e.$inject=["$location","$routeParams","$log","$modal","sessionService","bookDataService"]}(),function(){"use strict";function e(e,n,r,t){var o={},a="https://api.parse.com/1/classes/AudioBook",i=t.Object.extend("AudioBook"),s=100;return o.getItem=function(n){var t={headers:{"X-Parse-Session-Token":r.sessionToken},isArray:!1,method:"GET",url:a+"/"+n};return e(t)},o.getItems=function(){var n={headers:{"X-Parse-Session-Token":r.sessionToken},isArray:!1,method:"GET",url:a+"?count=1&limit=1000&order=title"};return e(n)},o.getPage=function(e){var r=new t.Query(i),o=n.defer();return r.descending("createdAt"),r.skip((e-1)*s),r.find({success:function(e){o.resolve(e)},error:function(e){o.reject(e)}}),o.promise},o.queryData=function(e,r){var o=new t.Query(i),a=n.defer();return o.startsWith(e,r),o.descending("createdAt"),o.find({success:function(e){a.resolve(e)},error:function(e){a.reject(e)}}),a.promise},o.updateItem=function(n){var t=void 0===n.objectId,o=t?a+"/":a+"/"+n.objectId,i={headers:{"X-Parse-Session-Token":r.sessionToken},method:t?"POST":"PUT",url:o,data:n};return e(i)},o.deleteItem=function(n){var t=a+"/"+n,o={headers:{"X-Parse-Session-Token":r.sessionToken},method:"DELETE",url:t};return e(o)},o}angular.module("app").factory("bookDataService",e),e.$inject=["$http","$q","sessionService","Parse"]}(),function(){"use strict";function e(e,n,r,t,o,a){function i(){"_new"===c.cacheId?c.cache={cacheId:"",cacheType:"",name:"",coords:"",verifiedCoords:!1}:o.getItem(c.cacheId).then(function(e){c.cache=e.data,c.currentType=c.cache.cacheType},function(e){r.error(e),a.error(e.data.code+" "+e.data.error),n.url("/cheats")})}function s(){r.info("Cancelled Edit"),a.warning("Edit cancelled"),n.url("/cheats")}function l(){o.updateItem(c.cache).then(function(e){r.info("Saved Cache %o",e),a.success("Cache saved"),n.url("/cheats")},function(e){r.error("Error saving Cache %o",e),a.error(e.error.code+" "+e.error.error),n.url("/cheats")})}var c=this;c.cacheId=e.cacheId,c.doCancel=s,c.doSave=l,c.session=t,c.cacheTypes=["Tradi","Mystery","Multi","Chirp","Earth","Letterbox","Event","Lab","Virtual","Wherigo"],c.municipalities=["Akaa","Alajärvi","Alavieska","Alavus","Asikkala","Askola","Aura","Brändö","Eckerö","Enonkoski","Enontekiö","Espoo","Eura","Eurajoki","Evijärvi","Finström","Forssa","Föglö","Geta","Haapajärvi","Haapavesi","Hailuoto","Halsua","Hamina","Hammarland","Hankasalmi","Hanko","Harjavalta","Hartola","Hattula","Hausjärvi","Heinola","Heinävesi","Helsinki","Hirvensalmi","Hollola","Honkajoki","Huittinen","Humppila","Hyrynsalmi","Hyvinkää","Hämeenkoski","Hämeenkyrö","Hämeenlinna","Ii","Iisalmi","Iitti","Ikaalinen","Ilmajoki","Ilomantsi","Imatra","Inari","Inkoo","Isojoki","Isokyrö","Jalasjärvi","Janakkala","Joensuu","Jokioinen","Jomala","Joroinen","Joutsa","Juankoski","Juuka","Juupajoki","Juva","Jyväskylä","Jämijärvi","Jämsä","Järvenpää","Kaarina","Kaavi","Kajaani","Kalajoki","Kangasala","Kangasniemi","Kankaanpää","Kannonkoski","Kannus","Karijoki","Karkkila","Karstula","Karvia","Kaskinen","Kauhajoki","Kauhava","Kauniainen","Kaustinen","Keitele","Kemi","Kemijärvi","Keminmaa","Kemiönsaari","Kempele","Kerava","Keuruu","Kihniö","Kinnula","Kirkkonummi","Kitee","Kittilä","Kiuruvesi","Kivijärvi","Kokemäki","Kokkola","Kolari","Konnevesi","Kontiolahti","Korsnäs","Koski Tl","Kotka","Kouvola","Kristiinankaupunki","Kruunupyy","Kuhmo","Kuhmoinen","Kumlinge","Kuopio","Kuortane","Kurikka","Kustavi","Kuusamo","Kyyjärvi","Kärkölä","Kärsämäki","Kökar","Köyliö","Lahti","Laihia","Laitila","Lapinjärvi","Lapinlahti","Lappajärvi","Lappeenranta","Lapua","Laukaa","Lavia","Lemi","Lemland","Lempäälä","Leppävirta","Lestijärvi","Lieksa","Lieto","Liminka","Liperi","Lohja","Loimaa","Loppi","Loviisa","Luhanka","Lumijoki","Lumparland","Luoto","Luumäki","Luvia","Maalahti","Maaninka","Maarianhamina","Marttila","Masku","Merijärvi","Merikarvia","Miehikkälä","Mikkeli","Muhos","Multia","Muonio","Mustasaari","Muurame","Mynämäki","Myrskylä","Mäntsälä","Mänttä-Vilppula","Mäntyharju","Naantali","Nakkila","Nastola","Nivala","Nokia","Nousiainen","Nurmes","Nurmijärvi","Närpiö","Orimattila","Oripää","Orivesi","Oulainen","Oulu","Outokumpu","Padasjoki","Paimio","Paltamo","Parainen","Parikkala","Parkano","Pedersöre","Pelkosenniemi","Pello","Perho","Pertunmaa","Petäjävesi","Pieksämäki","Pielavesi","Pietarsaari","Pihtipudas","Pirkkala","Polvijärvi","Pomarkku","Pori","Pornainen","Porvoo","Posio","Pudasjärvi","Pukkila","Punkalaidun","Puolanka","Puumala","Pyhtää","Pyhäjoki","Pyhäjärvi","Pyhäntä","Pyhäranta","Pälkäne","Pöytyä","Raahe","Raasepori","Raisio","Rantasalmi","Ranua","Rauma","Rautalampi","Rautavaara","Rautjärvi","Reisjärvi","Riihimäki","Ristijärvi","Rovaniemi","Ruokolahti","Ruovesi","Rusko","Rääkkylä","Saarijärvi","Salla","Salo","Saltvik","Sastamala","Sauvo","Savitaipale","Savonlinna","Savukoski","Seinäjoki","Sievi","Siikainen","Siikajoki","Siikalatva","Siilinjärvi","Simo","Sipoo","Siuntio","Sodankylä","Soini","Somero","Sonkajärvi","Sotkamo","Sottunga","Sulkava","Sund","Suomussalmi","Suonenjoki","Sysmä","Säkylä","Taipalsaari","Taivalkoski","Taivassalo","Tammela","Tampere","Tarvasjoki","Tervo","Tervola","Teuva","Tohmajärvi","Toholampi","Toivakka","Tornio","Turku","Tuusniemi","Tuusula","Tyrnävä","Ulvila","Urjala","Utajärvi","Utsjoki","Uurainen","Uusikaarlepyy","Uusikaupunki","Vaala","Vaasa","Valkeakoski","Valtimo","Vantaa","Varkaus","Vehmaa","Vesanto","Vesilahti","Veteli","Vieremä","Vihti","Viitasaari","Vimpeli","Virolahti","Virrat","Vårdö","Vöyri","Ylitornio","Ylivieska","Ylöjärvi","Ypäjä","Ähtäri","Äänekoski"],i()}angular.module("app").controller("CheatEditController",e),e.$inject=["$routeParams","$location","$log","sessionService","cheatDataService","toastr"]}(),function(){"use strict";function e(e,n,r,t,o){function a(){n.info("Activating CheatListController"),i()}function i(){o.getItems().then(function(e){n.info(e),c.items=e.data.results},function(e){n.error(e),toastr.error(e.data.code+" "+e.data.error)})}function s(){e.path("/cheats/edit/_new")}function l(n){e.path("/cheats/edit/"+n.objectId)}var c=this,d='<div class="ngCellText" ng-class="col.colIndex()">  <a target="_blank" href="http://coord.info/{{row.entity.cacheId}}">{{row.getProperty(col.field)}}</a></div>',u='<div class="ngCellText" ng-class="col.colIndex()">  <div class="btn-group">    <button type="button" class="btn btn-primary" data-ng-click="onEditClick(row.entity)">        <i class="fa fa-edit"></i>    </button>    <button type="button" class="btn btn-danger" data-ng-click="onDeleteClick(row.entity)">      <i class="fa fa-trash-o"></i>    </button>  </div></div>';c.onAddClick=s,c.onEditClick=l,c.totalItems=0,c.currentItem=null,c.session=t,c.gridOptions={data:"items",rowHeight:44,multiSelect:!1,showGroupPanel:!0,columnDefs:[{field:"cacheId",displayName:"Id",width:"100",cellTemplate:d},{field:"updatedAt",displayName:"Updated",cellFilter:"date",width:"100"},{field:"cacheType",displayName:"Type",width:"100"},{field:"name",displayName:"Name"},{field:"municipality",displayName:"Municipality",width:"150"},{field:"coords",displayName:"Coords"},{field:"verifiedCoords",displayName:"Verified",width:"66"},{field:"objectId",displayName:"Commands",width:"86",cellTemplate:u}]},a()}angular.module("app").controller("CheatListController",e),e.$inject=["$location","$log","$modal","sessionService","cheatDataService","toastr","_"]}(),function(){"use strict";function e(e,n,r,t,o,a){function i(){r.info("*** Activated CheatViewController"),r.debug("   cacheId      => %s",d),l()}function s(){var n={title:"Delete Cache?",content:'You are about to delete cache "'+c.cache.name+'"'},o=t.open({controller:"VerificationController",controllerAs:"vm",templateUrl:"app/tmplVerification.html",size:"sm",resolve:{opts:function(){return n}}});o.result.then(function(n){"ok"===n&&a.deleteItem(d).then(function(n){r.info("Deleted Cache %o",n),toastr.success("Cache Deleted"),e.url("/cheats")},function(e){r.error(e),toastr.error(e.error.code+" "+e.error.error)})},function(){toastr.info("Delete cancelled by user")})}function l(){a.getItem(d).then(function(e){c.cache=e.data,r.debug("   vm.cache     => %o",c.cache)},function(n){r.error(n),toastr.error(n.error.code+" "+n.error.error),e.url("/cheats")})}var c=this,d=n.cacheId;c.cache=null,c.doDelete=s,c.session=o,i()}angular.module("app").controller("CheatViewController",e),e.$inject=["$location","$routeParams","$log","$modal","sessionService","cheatDataService"]}(),function(){"use strict";function e(e,n,r,t){function o(e){var n=l+"/"+e,o={headers:{"X-Parse-Session-Token":t.sessionToken},method:"DELETE",url:n};return r(o)}function a(e){var n={headers:{"X-Parse-Session-Token":t.sessionToken},isArray:!1,method:"GET",url:l+"/"+e};return r(n)}function i(){var e={headers:{"X-Parse-Session-Token":t.sessionToken},isArray:!1,method:"GET",url:l+"?count=1&limit=1000&order=-updatedAt"};return r(e)}function s(e){var n=void 0===e.objectId,o=n?l+"/":l+"/"+e.objectId,a={headers:{"X-Parse-Session-Token":t.sessionToken},method:n?"POST":"PUT",url:o,data:e};return r(a)}var l="https://api.parse.com/1/classes/Cheat",c={deleteItem:o,getItem:a,getItems:i,municipalities:[],updateItem:s};return c}angular.module("app").factory("cheatDataService",e),e.$inject=["$log","$q","$http","sessionService"]}(),function(){"use strict";var e=window.Parse||null,n=window._||null;angular.module("app").constant("Parse",e),angular.module("app").constant("_",n),angular.module("app").constant("toastr",toastr)}(),function(){"use strict";function e(e,n,r,t){function o(){r.user.loggedOn||e.info("not logged on")}function a(e){var r="";return n.path().substr(0,e.length)===e&&(r="active"),r}function i(){var o=r.user.username;e.info("Signing off %s",o),t.logOff(),toastr.info("User "+o+" signed off"),n.url("/")}var s=this;s.getClass=a,s.onLogOffClick=i,s.session=r,o()}angular.module("app").controller("HeaderController",e),e.$inject=["$log","$location","sessionService","logonService"]}(),function(){"use strict";function e(e,n,r,t){function o(){}function a(e){e.$valid&&(t.logOn(i.username,i.password).then(function(){n.redirectPostLogin()})["catch"]("Could not log on"),i.username=i.password="",e.$setUntouched())}var i=this;i.logon=a,i.username="",i.password="",i.user=r.user,o()}angular.module("app").controller("LogonController",e),e.$inject=["$log","loginRedirectInterceptor","sessionService","logonService"]}(),function(){"use strict";var e=e||null;angular.module("common",[]),angular.module("common").constant("Parse",e)}(),function(){"use strict";function e(e){function n(e,n){o.setItem(e,angular.toJson(n))}function r(e){var n=o.getItem(e);return n&&(n=angular.fromJson(n)),n}function t(e){o.removeItem(e)}var o=e.localStorage;return{set:n,get:r,remove:t}}angular.module("common").factory("localStorageService",e),e.$inject=["$window"]}(),function(){"use strict";function e(e,n){function r(r){return 403===r.status&&(o=n.path(),n.path("/logon")),e.reject(r)}function t(){n.path(o),o="/"}var o="/";return{responseError:r,redirectPostLogin:t}}function n(e){e.interceptors.push("loginRedirectInterceptor")}angular.module("common").factory("loginRedirectInterceptor",e),angular.module("common").config(n),e.$inject=["$q","$location"],n.$inject=["$httpProvider"]}(),function(){"use strict";function e(e,n,r){function t(t,o){var a="?username="+t+"&password="+o,i={method:"GET",url:" https://api.parse.com/1/login"+a};return e(i).then(function(e){return"object"==typeof e.data?(r.setSession(e.data),e.data):(r.clearSession(),n.reject(e.data))},function(e){return r.clearSession(),n.reject(e.data)})}function o(){r.clearSession()}return{logOn:t,logOff:o}}angular.module("app").factory("logonService",e),e.$inject=["$http","$q","sessionService"]}(),function(){"use strict";function e(e,n,r){function t(){var e,n={objectId:"",email:"",token:"",username:"",get loggedOn(){return this.token}};return e=r.get(i),e&&(n.objectId=e.objectId,n.email=e.email,n.token=e.token,n.username=e.username),n}function o(t){l.user.objectId=t.objectId,l.user.email=t.email,l.user.token=t.sessionToken,l.user.username=t.username,r.set(i,l.user),n.User.become(l.user.token).then(function(n){e.info("*** Parse user set to %o",n)},function(n){e.error("The Parse user could not be set %o",n)})}function a(){r.remove(i),l.user.objectId="",l.user.email="",l.user.token="",l.user.username="",n.User.logOut()}var i="ParseUser",s=t(),l={setSession:o,clearSession:a,user:s};return l}angular.module("common").factory("sessionService",e),e.$inject=["$log","Parse","localStorageService"]}(),function(){"use strict";function e(e,n){function r(r){return n.user.loggedOn&&(r.headers["X-Parse-Session-Token"]=n.user.token),e.when(r)}return{request:r}}function n(e){e.interceptors.push("tokenInterceptor")}angular.module("common").factory("tokenInterceptor",e),angular.module("common").config(n),e.$inject=["$q","sessionService"],n.$inject=["$httpProvider"]}(),function(){"use strict";function e(e,n,r,t,o){function a(){"_new"===l.eventId?l.event={starts:"",eventName:"",placeName:"",organizer:"",organizerUrl:"",smartum:!1}:o.getEvent(l.eventId).then(function(e){l.event=e.data},function(e){r.error(e),toastr.error(e.error.code+" "+e.error.error),n.url("/events")})}function i(){r.info("Cancelled Edit"),toastr.warning("Edit cancelled"),n.url("/events")}function s(){o.updateItem(l.event).then(function(e){r.info("Saved Event %o",e),toastr.success("Event saved"),n.url("/events")},function(e){r.error("Error saving Event %o",e),toastr.error(e.error.code+" "+e.error.error),n.url("/events")})}var l=this;l.cancel=i,l.event=null,l.eventId=e.eventId,l.save=s,l.session=t,a()}angular.module("app").controller("EventEditController",e),e.$inject=["$routeParams","$location","$log","sessionService","eventDataService"]}(),function(){"use strict";function e(e,n,r,t,o,a){function i(){c()}function s(){p.hide(),toastr.warning("Delete cancelled")}function l(){p.hide(),o.deleteItem(v.currentItem).then(function(){n.info("Deleted Event"),toastr.success("Event deleted"),v.events=a.filter(v.events,function(e){return e.objectId!==v.currentItem.objectId})},function(e){n.error(e),toastr.error(e.error.code+" "+e.error.error)})}function c(){o.getEvents().then(function(e){v.events=e.data.results},function(e){n.error(e),toastr.error(e.error.code+" "+e.error.error)})}function d(){e.path("/events/_new")}function u(e){v.currentItem=e,p=r({scope:v,template:"app/tmplVerify.html",show:!0,title:"Delete Event?",content:"You are about to delete event <em>"+e.eventName+"/"+e.placeName+"</em>"})}function m(n){e.path("/events/"+n.objectId)}var v=this,p=null;v.currentItem=null,v.dlgVerifyCancel=s,v.dlgVerifyOK=l,v.events=[],v.onAddClick=d,v.onDeleteClick=u,v.onEditClick=m,v.session=t,v.totalItems=0,i()}angular.module("app").controller("EventListController",e),e.$inject=["$location","$log","$modal","sessionService","eventDataService","_"]}(),function(){"use strict";function e(e,n,r,t){function o(e){var n=l+"/"+e.objectId,o={headers:{"X-Parse-Session-Token":t.sessionToken},method:"DELETE",url:n};return r(o)}function a(e){var n={isArray:!1,method:"GET",url:l+"/"+e};return r(n)}function i(){var e={isArray:!1,method:"GET",url:l+"?count=1&limit=1000&order=starts"};return r(e)}function s(e){var n=void 0===e.objectId,o=n?l+"/":l+"/"+e.objectId,a={headers:{"X-Parse-Session-Token":t.sessionToken},method:n?"POST":"PUT",url:o,data:e};return r(a)}var l="https://api.parse.com/1/classes/Event",c={deleteItem:o,getEvent:a,getEvents:i,updateItem:s};return c}angular.module("app").factory("eventDataService",e),e.$inject=["$log","$q","$http","sessionService"]}(),function(){"use strict";function e(e,n,r,t,o,a){function i(){"_new"===d.movieId?d.movie={seenAt:{__type:"Date",iso:(new Date).toISOString()},etitle:"",otitle:"",pic:"",rating:0,url:"",synopsis:"",comment:""}:o.getItem(d.movieId).then(function(e){d.movie=e.data,r.debug("vm.movie -> %o",d.movie)},function(e){r.error(e),a.error(e.error.code+" "+e.error.error),n.url("/movies")})}function s(){r.info("Cancelled Edit"),a.warning("Edit cancelled"),n.url("/movies")}function l(){o.updateItem(d.movie).then(function(e){r.info("Saved Movie %o",e),a.success("Movie saved"),n.url("/movies")},function(e){r.error("Error saving Movie %o",e),a.error(e.error.code+" "+e.error.error),n.url("/movies")})}function c(e){e.preventDefault(),e.stopPropagation(),d.opened=!0}var d=this;d.dateOptions={formatYear:"yy",startingDay:1},d.doCancel=s,d.doSave=l,d.movieId=e.movieId,d.open=c,d.opened=!1,d.session=t,i()}angular.module("app").controller("MovieEditController",e),e.$inject=["$routeParams","$location","$log","sessionService","movieDataService","toastr"]}(),function(){"use strict";function e(e,n,r,t){function o(){i()}function a(){c.currentPage+=1,i()}function i(){c.fetching||(c.fetching=!0,r.getPage(c.order,c.filter,c.currentPage).then(function(e){c.items=c.items.concat(e.data.results),c.totalItems=e.data.count,c.fetching=!1},function(n){e.error(n),t.error(n.error.code+" "+n.error.error),c.fetching=!1}))}function s(e){r.setFilterField(e)}function l(){r.setFilterValue(c.filter)}var c=this;c.data=r,c.session=n,c.fetching=!1,c.filter="",c.currentPage=1,c.items=[],c.maxSize=10,c.order="-seenAt",c.scroll=a,c.setFilterField=s,c.setFilterValue=l,c.totalItems=0,o()}angular.module("app").controller("MovieListController",e),e.$inject=["$log","sessionService","movieDataService","toastr"]}(),function(){"use strict";function e(e,n,r,t,o,a){function i(){r.info("*** Activated MovieViewController"),d()}function s(){return o.loggedOn&&m}function l(){e.path("/movies/edit/"+m)}function c(){var n={title:"Delete Movie?",content:'You are about to delete Movie "'+u.movie.otitle+'"'},o=t.open({controller:"VerificationController",controllerAs:"vm",templateUrl:"app/tmplVerification.html",size:"sm",resolve:{opts:function(){return n}}});o.result.then(function(n){"ok"===n&&a.deleteItem(m).then(function(n){r.info("Deleted Movie %o",n),toastr.success("Movie deleted"),e.url("/movies")},function(e){r.error(e),toastr.error(e.error.code+" "+e.error.error)})},function(){toastr.info("Delete cancelled by user")})}function d(){a.getItem(m).then(function(e){u.movie=e.data,r.debug("   movieId      => %s",m),r.debug("   vm.movie     => %o",u.movie)},function(n){r.error(n),toastr.error(n.error.code+" "+n.error.error),e.url("/movies")})}var u=this,m=n.movieId;u.movie=null,u.canEdit=s,u["delete"]=c,u.edit=l,u.session=o,i()}angular.module("app").controller("MovieViewController",e),e.$inject=["$location","$routeParams","$log","$modal","sessionService","movieDataService"]}(),function(){"use strict";function e(e,n,r,t){function o(n){return e({headers:{"X-Parse-Session-Token":r.sessionToken},isArray:!1,method:"GET",url:m+"/"+n})}function a(n,t,o){var a=""===t?"":'&where={"'+n+'":{"$gte":"'+t+'"}}',i=(o-1)*h.pageSize,s="?count=1&limit="+h.pageSize+"&skip="+i+"&order="+n+a,l={headers:{"X-Parse-Session-Token":r.sessionToken},isArray:!1,method:"GET",url:m+s};return e(l)}function i(n){return e({headers:{"X-Parse-Session-Token":r.sessionToken},method:"DELETE",url:m+"/"+n})}function s(){var e=new t.Query(f),r=n.defer();if(p)return r.reject("Fetching");switch(p=!0,v++,e.skip((aPageNum-1)*g),h.currentFilterField){case"Date Seen":e.descending("seenAt")}h.currentFilterValue,e.find({success:function(e){p=!1,r.resolve(e)},error:function(e){p=!1,r.reject(e)}})}function l(){h.movieList=[],v=1,s()}function c(e){e!==h.currentFilterField&&(h.currentFilterField=e,h.currentFilterValue="",l())}function d(e){e!==h.currentFilterValue&&(h.currentFilterValue=e,l())}function u(n){var t=void 0===n.objectId,o=t?m+"/":m+"/"+n.objectId;return e({headers:{"X-Parse-Session-Token":r.sessionToken},method:t?"POST":"PUT",url:o,data:n})}var m="https://api.parse.com/1/classes/Movie",v=1,p=!1,f=t.Object.extend("Movie"),g=100,h={currentFilterField:"Date Seen",currentFilterValue:"",filterOptions:["Original Title","Secondary Title","Date Seen","IMDB Rating"],getItem:o,getPage:a,movieList:[],setFilterField:c,setFilterValue:d,totalItems:0,updateItem:u,deleteItem:i};return h}angular.module("app").service("movieDataService",e),e.$inject=["$http","$q","sessionService","Parse"]}(),angular.module("app").run(["$templateCache",function(e){e.put("app/home.html",'<div class="container">\r\n    <div class="page-header">\r\n        <h1><i class="fa fa-home"></i> HOME <small>&raquo;of rannikkohurri</small></h1>\r\n    </div>\r\n    <div class="row">\r\n        <div class="col-sm-8">\r\n            <div class="jumbotron">\r\n                <div class="container">\r\n                    <h1>Welcome!</h1>\r\n                    <p>You have found the personal website of Kaj Lund a.k.a. LuKa.</p>\r\n                    <p>You\'ll mostly find some experimental apps here.</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="col-sm-4">\r\n            <div class="row">\r\n                <h3>Find me on</h3>\r\n            </div>\r\n            <div class="row">\r\n                <div class="col-xs-6 soc-link">\r\n                    <a href="https://facebook.com/kajlund" class="btn btn-block btn-primary" target="_blank">\r\n                        <i class="fa fa-facebook fa-5x"></i><p>Facebook</p>\r\n                    </a>\r\n                </div>\r\n                <div class="col-xs-6 soc-link">\r\n                    <a href="https://twitter.com/kajlund" class="btn btn-block btn-info" target="_blank">\r\n                        <i class="fa fa-twitter fa-5x"></i><p>Twitter</p>\r\n                    </a>\r\n                </div>\r\n            </div>\r\n            <div class="row">\r\n                <div class="col-xs-6 soc-link">\r\n                    <a href="https://plus.google.com/110969163046046858047/about" class="btn btn-block btn-danger" target="_blank">\r\n                        <i class="fa fa-google-plus fa-5x"></i><p>Google+</p>\r\n                    </a>\r\n                </div>\r\n                <div class="col-xs-6 soc-link">\r\n                    <a href="http://www.linkedin.com/in/kajlund" class="btn btn-block btn-success" target="_blank">\r\n                        <i class="fa fa-linkedin fa-5x"></i><p>Linkedin</p>\r\n                    </a>\r\n                </div>\r\n            </div>\r\n            <div class="row">\r\n                <div class="col-xs-6 soc-link">\r\n                    <a href="https://github.com/kajlund" class="btn btn-block btn-github" target="_blank">\r\n                        <i class="fa fa-github fa-5x"></i><p>Github</p>\r\n                    </a>\r\n                </div>\r\n                <div class="col-xs-6 soc-link">\r\n                    <a href="http://www.flickr.com/photos/kajlund" class="btn btn-block btn-flickr" target="_blank">\r\n                        <i class="fa fa-flickr fa-5x"></i><p>Flickr</p>\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'),e.put("app/tmplSignon.html",'    <form name="frm" class="form-horizontal" role="form" ng-submit="vm.login()">\r\n        <div class="modal-header">\r\n            <h3 class="modal-title">Login</h3>\r\n        </div>\r\n        <div class="modal-body">\r\n            <div class="form-group">\r\n                <label for="userName" class="col-md-3 control-label">User name</label>\r\n                <div class="col-md-8">\r\n                    <input id="userName" type="text" class="form-control" autofocus data-ng-model="vm.user.name">\r\n                </div>\r\n            </div>\r\n            <div class="form-group">\r\n                <label for="pwd" class="col-md-3 control-label">Password</label>\r\n                <div class="col-md-8">\r\n                    <input id="pwd" type="password" class="form-control" data-ng-model="vm.user.pwd">\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="modal-footer">\r\n            <input class="btn btn-success" type="submit" ng-disabled="frm.$invalid" value="OK">\r\n            <button class="btn btn-warning" ng-click="vm.cancel()">Cancel</button>\r\n        </div>\r\n    </form>\r\n'),e.put("app/tmplVerification.html",'<div class="modal-header">\r\n    <h3 class="modal-title">{{vm.opts.title}}</h3>\r\n</div>\r\n<div class="modal-body">\r\n    {{vm.opts.content}}\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-success" ng-click="vm.ok()">\r\n        OK <i class="fa fa-check"></i>\r\n    </button>\r\n    <a href="" class="btn btn-link" ng-click="vm.cancel()">Cancel</a>\r\n</div>'),e.put("app/books/edit.html",'<div class="container">\r\n    <div class="page-header">\r\n        <h1><i class="fa fa-book"></i> Edit Book <small>{{ vm.book.title }}</small></h1>\r\n    </div>\r\n\r\n    <div data-ng-if="!vm.session.user.loggedOn">\r\n        <div class="jumbotron">\r\n            <h1>Sorry <small>:-(</small></h1>\r\n            <p>You need to be logged on to edit books.</p>\r\n        </div>\r\n    </div>\r\n\r\n    <div data-ng-if="vm.session.user.loggedOn">\r\n        <form name="frm" role="form" ng-submit="vm.doSave()">\r\n            <div class="form-group">\r\n                <label class="control-label">Title</label>\r\n                <input type="text" class="form-control" ng-model="vm.book.title" required autofocus>\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="control-label">Subtitle</label>\r\n                <input type="text" class="form-control" ng-model="vm.book.subtitle" >\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="control-label">Author(s)</label>\r\n                <input type="text" class="form-control" ng-model="vm.book.authors" >\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="control-label">Language</label>\r\n                <select class="form-control"\r\n                        data-ng-model="vm.book.lang"\r\n                        data-ng-options="l for l in vm.languages">\r\n                </select>\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="control-label">Genre</label>\r\n                <select class="form-control"\r\n                        data-ng-model="vm.book.genre"\r\n                        data-ng-options="g for g in vm.genres">\r\n                </select>\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="control-label">Image</label>\r\n                <input type="text" class="form-control" ng-model="vm.book.image" >\r\n            </div>\r\n            <div class="form-actions pull-right">\r\n                <a href="" class="btn btn-link pull-right" ng-click="vm.doCancel()">Cancel</a>\r\n                <input class="btn btn-default" type="submit" ng-disabled="frm.$invalid" value="Save">\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>\r\n'),e.put("app/books/list.html",'<div class="container">\r\n    <div class="page-header">\r\n        <a ng-href="#/books/edit/_new" class="btn btn-default pull-right" ng-class="{hidden: !vm.session.user.loggedOn}">\r\n            <i class="fa fa-plus"></i> Add Book\r\n        </a>\r\n        <h1>\r\n            <i class="fa fa-book"></i> BOOKS <small>&raquo; audiobooks list</small>\r\n        </h1>\r\n    </div>\r\n\r\n    <div class="row" style="padding-bottom: 18px;">\r\n        <div class="col-xs-12">\r\n            <form name="frm" class="form-inline" role="form" novalidate>\r\n                <div class="form-group">\r\n                    <select class="form-control" ng-model="vm.currentSearchField" ng-options="s.description for s in vm.searchFields">\r\n                    </select>\r\n                        <input type="text" class="form-control" ng-model="vm.searchKey" placeholder="Search for" required />\r\n                        <button class="btn btn-success" ng-disabled="frm.$invalid" ng-click="vm.search()"><i class="fa fa-search"></i> Find</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="row">\r\n        <div class="col-xs-12" infinite-scroll="vm.scroll()" infinite-scroll-distance="1" infinite-scroll-disabled="vm.fetching">\r\n            <div class="list-group">\r\n                <a class="list-group-item" href="#/books/view/{{i.id}}" data-ng-repeat="i in vm.items">\r\n                    <img class="pull-left img-rounded" ng-src="https://dl.dropboxusercontent.com/u/133963/Images/Books/thumbs/{{ i.get(\'image\') }}.jpg">\r\n                    <i class="pull-right fa  fa-2x fa-chevron-right"></i>\r\n                    <h3 class="list-group-item-heading">{{ i.get(\'title\') }}&nbsp;<small>{{ i.get(\'subtitle\') }}</small></h3>\r\n                    <p class="list-group-item-text">\r\n                        Authors: {{ i.get(\'authors\') }} | Genre: {{ i.get(\'genre\') }} | Language: {{ i.get(\'lang\') }}\r\n                    </p>\r\n                </a>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'),e.put("app/books/view.html",'<div class="container">\r\n    <div class="page-header">\r\n        <a href="#/books" class="pull-right btn btn-default"><i class="fa fa-chevron-left"></i> Back</a>\r\n        <h1><i class="fa fa-book"></i> Book <small>{{ vm.book.title }}</small></h1>\r\n    </div>\r\n\r\n    <div class="row data-presentation">\r\n        <div class="col-xs-9">\r\n            <div class="row">\r\n                <div class="col-xs-4 col-sm-2 data-title">Title</div>\r\n                <div class="col-xs-8 col-sm-10 data-content">{{ vm.book.title }}</div>\r\n            </div>\r\n            <div class="row">\r\n                <div class="col-xs-4 col-sm-2 data-title">Subtitle</div>\r\n                <div class="col-xs-8 col-sm-10 data-content">{{ vm.book.subtitle }}</div>\r\n            </div>\r\n            <div class="row">\r\n                <div class="col-xs-4 col-sm-2 data-title">Author(s)</div>\r\n                <div class="col-xs-8 col-sm-10 data-content">{{ vm.book.authors }}</div>\r\n            </div>\r\n            <div class="row">\r\n                <div class="col-xs-4 col-sm-2 data-title">Language</div>\r\n                <div class="col-xs-8 col-sm-10 data-content">{{ vm.book.lang }}</div>\r\n            </div>\r\n            <div class="row">\r\n                <div class="col-xs-4 col-sm-2 data-title">Category</div>\r\n                <div class="col-xs-8 col-sm-10 data-content">{{ vm.book.genre }}</div>\r\n            </div>\r\n        </div>\r\n        <div class="col-xs-3">\r\n            <img ng-src="https://dl.dropboxusercontent.com/u/133963/Images/Books/{{vm.book.image}}.jpg"\r\n                 class="cover-image img-thumbnail" alt="Cover image">\r\n        </div>\r\n    </div>\r\n    <div class="row commands" ng-class="{hidden: !vm.session.user.loggedOn}">\r\n        <div class="col-xs-12 col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3 col-lg-3 col-lg-offset-1">\r\n            <a href="" class="btn btn-link pull-right" ng-click="vm.delete()">Delete</a>\r\n            <button class="btn btn-default pull-right" ng-click="vm.edit()">\r\n                <i class="fa fa-edit"></i> Edit\r\n            </button>\r\n        </div>\r\n    </div>\r\n</div>\r\n'),e.put("app/cheats/edit.html",'<div class="container">\r\n    <div class="page-header">\r\n        <h1><i class="fa fa-dot-circle-o"></i> Edit Cache <small>{{ vm.cache.name }}</small></h1>\r\n    </div>\r\n\r\n    <div data-ng-if="!vm.session.user.loggedOn">\r\n        <div class="jumbotron">\r\n            <h1>Sorry <small>:-(</small></h1>\r\n            <p>You need to be logged on to use cheats.</p>\r\n        </div>\r\n    </div>\r\n\r\n    <div data-ng-if="vm.session.user.loggedOn">\r\n        <form name="frm" role="form" ng-submit="vm.doSave()">\r\n            <div class="form-group">\r\n                <label class="control-label">Id</label>\r\n                <input type="text" class="form-control" ng-model="vm.cache.cacheId" required autofocus>\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="control-label">Type</label>\r\n                <select class="form-control"\r\n                        data-ng-model="vm.cache.cacheType"\r\n                        data-ng-options="t for t in vm.cacheTypes">\r\n                </select>\r\n            </div>\r\n            <div class="form-group">\r\n                <label>Name</label>\r\n                <input type="text" class="form-control" ng-model="vm.cache.name" required>\r\n            </div>\r\n            <div class="form-group">\r\n                <label>Coords</label>\r\n                <input type="text" class="form-control" ng-model="vm.cache.coords">\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="control-label">Municipality</label>\r\n                <select class="form-control"\r\n                        data-ng-model="vm.cache.municipality"\r\n                        data-ng-options="m for m in vm.municipalities">\r\n                </select>\r\n            </div>\r\n            <div class="checkbox">\r\n                <label>\r\n                    <input type="checkbox" ng-model="vm.cache.verifiedCoords"> Verified Coords\r\n                </label>\r\n            </div>\r\n            <div class="form-group">\r\n                <label>Notes</label>\r\n                <textarea class="form-control" rows="3" ng-model="vm.cache.notes"></textarea>\r\n            </div>\r\n            <div class="form-actions pull-right">\r\n                <a href="" class="btn btn-link pull-right" ng-click="vm.doCancel()">Cancel</a>\r\n                <input class="btn btn-default" type="submit" ng-disabled="frm.$invalid" value="Save">\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>'),e.put("app/cheats/list.html",'<div class="container">\r\n    <div class="page-header">\r\n        <a ng-href="#/cheats/edit/_new" class="btn btn-default pull-right" ng-class="{hidden: !vm.session.user.loggedOn}">\r\n            <i class="fa fa-plus"></i> Add Cache\r\n        </a>\r\n        <h1>\r\n            <i class="fa fa-dot-circle-o"></i> GEOCACHING <small>&raquo; cheats</small>\r\n        </h1>\r\n    </div>\r\n\r\n    <div data-ng-if="!vm.session.user.loggedOn">\r\n        <div class="jumbotron">\r\n            <h1>Sorry <small>:-(</small></h1>\r\n            <p>This page is private to the site owner.</p>\r\n        </div>\r\n    </div>\r\n\r\n    <div data-ng-if="vm.session.user.loggedOn">\r\n        <div class="list-group">\r\n            <a class="list-group-item" href="#/cheats/view/{{i.objectId}}" data-ng-repeat="i in vm.items">\r\n                <i class="pull-right fa  fa-2x fa-chevron-right"></i>\r\n                <h3 class="list-group-item-heading">{{ i.name }}&nbsp;<small>{{i.updatedAt|date:\'yyyy.MM.dd\'}}</small></h3>\r\n                <p class="list-group-item-text">\r\n                    Type: {{ i.cacheType }} | Municipality: {{ i.municipality }} | Verified: {{ i.verifiedCoords }}\r\n                </p>\r\n            </a>\r\n        </div>\r\n\r\n        <!--table class="table table-striped table-hover">\r\n        <tr>\r\n            <th>Id</th><th>Updated</th><th>Type</th><th>Name</th><th>Municipality</th><th>Coords</th><th>Verified</th>\r\n            <th data-ng-class="{hidden: !session.loggedOn()}">\r\n                Commands\r\n            </th>\r\n        </tr>\r\n        <tr data-ng-repeat="i in items">\r\n            <td><a href="http://coord.info/{{ i.cacheId }}" target="_blank">{{ i.cacheId }}</a></td>\r\n            <td>{{i.updatedAt|date:\'yyyy.MM.dd\'}}</td>\r\n            <td>{{ i.cacheType }}</td>\r\n            <td>{{ i.name }}</td>\r\n            <td>{{ i.municipality }}</td>\r\n            <td>{{ i.coords }}</td>\r\n            <td>{{ i.verifiedCoords }}</td>\r\n            <td data-ng-class="{hidden: !session.loggedOn()}">\r\n                <div class="btn-group">\r\n                    <button type="button" class="btn btn-primary"\r\n                            data-ng-click="onEditClick(i)">\r\n                        <i class="fa fa-edit"></i>\r\n                    </button>\r\n                    <button type="button" class="btn btn-danger"\r\n                            data-ng-click="onDeleteClick(i)">\r\n                        <i class="fa fa-trash-o"></i>\r\n                    </button>\r\n                </div>\r\n            </td>\r\n        </tr>\r\n    </table-->\r\n    </div>\r\n</div>'),e.put("app/cheats/view.html",'<div class="container">\r\n    <div class="page-header">\r\n        <a href="#/cheats" class="pull-right btn btn-default"><i class="fa fa-chevron-left"></i> Back</a>\r\n        <h1><i class="fa fa-dot-circle-o"></i></i> Cache <small>{{ vm.cache.name }}</small></h1>\r\n    </div>\r\n\r\n    <div class="row data-presentation">\r\n        <div class="row">\r\n            <div class="col-xs-4 col-sm-2 data-title">Id</div>\r\n            <div class="col-xs-8 col-sm-10 data-content">{{ vm.cache.cacheId }}</div>\r\n        </div>\r\n        <div class="row">\r\n            <div class="col-xs-4 col-sm-2 data-title">Type</div>\r\n            <div class="col-xs-8 col-sm-10 data-content">{{ vm.cache.cacheType }}</div>\r\n        </div>\r\n        <div class="row">\r\n            <div class="col-xs-4 col-sm-2 data-title">Name</div>\r\n            <div class="col-xs-8 col-sm-10 data-content">{{ vm.cache.name }}</div>\r\n        </div>\r\n        <div class="row">\r\n            <div class="col-xs-4 col-sm-2 data-title">Verified</div>\r\n            <div class="col-xs-8 col-sm-10 data-content">{{ vm.cache.verifiedCoords }}</div>\r\n        </div>\r\n        <div class="row">\r\n            <div class="col-xs-4 col-sm-2 data-title">Choords</div>\r\n            <div class="col-xs-8 col-sm-10 data-content">{{ vm.cache.coords }}</div>\r\n        </div>\r\n        <div class="row">\r\n            <div class="col-xs-4 col-sm-2 data-title">Municipality</div>\r\n            <div class="col-xs-8 col-sm-10 data-content">{{ vm.cache.municipality }}</div>\r\n        </div>\r\n        <div class="row">\r\n            <div class="col-xs-4 col-sm-2 data-title">Notes</div>\r\n            <div class="col-xs-8 col-sm-10 data-content">{{ vm.cache.notes }}</div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="row commands" ng-class="{hidden: !vm.session.user.loggedOn}">\r\n        <div class="col-xs-12 col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3 col-lg-3 col-lg-offset-1">\r\n            <a href="" class="btn btn-link pull-right" ng-click="vm.doDelete()">Delete</a>\r\n            <a href="#/cheats/edit/{{vm.cache.objectId}}" class="btn btn-default pull-right">\r\n                <i class="fa fa-edit"></i> Edit\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n'),e.put("app/common/tmplFooter.html",'<footer>\r\n    <div class="container">\r\n        &copy; 2014, Kaj Lund\r\n    </div>\r\n</footer>\r\n'),e.put("app/common/tmplHeader.html",'<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation"\r\n     data-ng-controller="HeaderController as vm">\r\n    <div class="container-fluid">\r\n        <!-- Brand and toggle get grouped for better mobile display -->\r\n        <div class="navbar-header">\r\n            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-1">\r\n                <span class="sr-only">Toggle navigation</span>\r\n                <span class="icon-bar"></span>\r\n                <span class="icon-bar"></span>\r\n                <span class="icon-bar"></span>\r\n            </button>\r\n            <a class="navbar-brand" data-ng-href="#/home">\r\n                <img src="../../img/LuKa_32x32.png" class="img-circle pull-left" alt="logo">\r\n                <p class="navbar-text visible-lg-block visible-md-block">rannikkohurri<small>.net</small></p>\r\n            </a>\r\n        </div>\r\n\r\n        <!-- Collect the nav links, forms, and other content for toggling -->\r\n        <div id="navbar-collapse-1" class="collapse navbar-collapse">\r\n            <ul class="nav navbar-nav">\r\n                <li class="dropdown">\r\n                    <a href="" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">\r\n                        <i class="fa fa-bookmark"></i> Apps <span class="caret"></span>\r\n                    </a>\r\n                    <ul class="dropdown-menu" role="menu">\r\n                        <li data-ng-class="vm.getClass(\'/books\')">\r\n                            <a href="#/books">\r\n                                <i class="fa fa-book"></i> Books\r\n                            </a>\r\n                        </li>\r\n                        <li class="divider"></li>\r\n                        <li data-ng-class="vm.getClass(\'/movies\')">\r\n                            <a href="#/movies">\r\n                                <i class="fa fa-film"></i> Movies\r\n                            </a>\r\n                        </li>\r\n                    </ul>\r\n                </li>\r\n            </ul>\r\n\r\n            <ul class="nav navbar-nav navbar-right">\r\n                <li data-ng-class="{hidden: vm.session.user.loggedOn}">\r\n                    <a href="#/logon" a-disabled="vm.session.user.loggedOn">\r\n                        <i class="fa fa-sign-in"></i> Sign in\r\n                    </a>\r\n                </li>\r\n                <li data-ng-class="{hidden: !vm.session.user.loggedOn}">\r\n                    <a href="" ng-click="vm.onLogOffClick()" a-disabled="!vm.session.user.loggedOn">\r\n                        <i class="fa fa-sign-out"></i> Sign out\r\n                    </a>\r\n                </li>\r\n                <li class="divider"></li>\r\n                <li class="navbar-text" data-ng-class="{hidden: vm.session.user.loggedOn}">\r\n                    <i class="fa fa-user"></i> anonymous&nbsp;\r\n                </li>\r\n                <li class="navbar-text" data-ng-class="{hidden: !vm.session.user.loggedOn}">\r\n                    <i class="fa fa-user"></i> {{vm.session.user.username}}&nbsp;\r\n                </li>\r\n            </ul>\r\n        </div> <!-- /.navbar-collapse -->\r\n    </div> <!-- /.container-fluid -->\r\n</nav>'),e.put("app/common/tmplLogon.html",'<div class="container">\r\n    <div class="page-header">\r\n        <h1><i class="fa fa-sign-in"></i> Logon <small>&raquo;for access</small></h1>\r\n    </div>\r\n\r\n    <form name="frm" class="form-horizontal" role="form" ng-submit="vm.logon(frm)">\r\n        <div class="form-group">\r\n            <label for="username" class="col-md-3 control-label">User name</label>\r\n            <div class="col-md-8">\r\n                <input id="username" type="text" class="form-control" autofocus data-ng-model="vm.username">\r\n            </div>\r\n        </div>\r\n        <div class="form-group">\r\n            <label for="pwd" class="col-md-3 control-label">Password</label>\r\n            <div class="col-md-8">\r\n                <input id="pwd" type="password" class="form-control" data-ng-model="vm.password">\r\n            </div>\r\n        </div>\r\n        <input class="btn btn-success pull-right" type="submit" ng-disabled="frm.$invalid" value="Logon">\r\n    </form>\r\n</div>'),e.put("app/events/edit.html",'<div class="container">\r\n    <div class="page-header">\r\n        <h1><i class="fa fa-flag"></i> Edit Event <small>{{ vm.event.starts }}</small></h1>\r\n    </div>\r\n\r\n    <div data-ng-if="!vm.session.user.loggedOn">\r\n        <div class="jumbotron">\r\n            <h1>Sorry <small>:-(</small></h1>\r\n            <p>You need to be logged on to edit events.</p>\r\n        </div>\r\n    </div>\r\n\r\n    <div data-ng-if="vm.session.user.loggedOn()">\r\n        <form name="frm" role="form" ng-submit="vm.save()">\r\n            <div class="form-group">\r\n                <label class="control-label">When</label>\r\n                <input type="text" class="form-control" ng-model="vm.event.starts" required autofocus>\r\n            </div>\r\n\r\n            <div class="form-group">\r\n                <label>Place</label>\r\n                <input type="text" class="form-control" ng-model="vm.event.placeName">\r\n            </div>\r\n            <div class="form-group">\r\n                <label>Name</label>\r\n                <input type="text" class="form-control" rows="3" ng-model="vm.event.eventName" required>\r\n            </div>\r\n            <div class="form-group">\r\n                <label>Organizer</label>\r\n                <input type="text" class="form-control" ng-model="vm.event.organizer">\r\n            </div>\r\n            <div class="form-group">\r\n                <label>Url</label>\r\n                <input type="text" class="form-control" ng-model="vm.event.organizerUrl">\r\n            </div>\r\n            <div class="checkbox">\r\n                <label>\r\n                    <input type="checkbox" ng-model="vm.event.smartum"> Smartum\r\n                </label>\r\n            </div>\r\n            <div class="form-actions pull-right">\r\n                <button class="btn btn-lg btn-default" ng-click="vm.cancel()">Cancel</button>\r\n                <input class="btn btn-lg btn-success" type="submit" ng-disabled="frm.$invalid" value="Save">\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>\r\n'),e.put("app/events/list.html",'<div class="container">\r\n    <div class="page-header">\r\n        <button type="button" class="btn btn-primary pull-right"\r\n                data-ng-click="vm.onAddClick()"\r\n                data-ng-class="{hidden: !vm.session.user.loggedOn}">\r\n            Add Event\r\n        </button>\r\n        <h1><i class="fa fa-flag"></i> EVENTS <small>&raquo;orienteering events</small></h1>\r\n    </div>\r\n\r\n    <table class="table table-striped table-hover">\r\n        <tr>\r\n            <th>Time</th><th>Place</th><th>Name</th><th>Organizer</th><th>Smartum</th>\r\n            <th data-ng-class="{hidden: !vm.session.user.loggedOn}">\r\n                Commands\r\n            </th>\r\n        </tr>\r\n        <tr data-ng-repeat="e in vm.events">\r\n            <td>{{ e.starts }}</td>\r\n            <td>{{ e.placeName }}</td>\r\n            <td>{{ e.eventName }}</td>\r\n            <td><a href="{{ e.organizerUrl }}" target="_blank">{{ e.organizer }}</a></td>\r\n            <td>{{ e.smartum }}</td>\r\n            <td data-ng-class="{hidden: !vm.session.user.loggedOn}">\r\n                <div class="btn-group">\r\n                    <button type="button" class="btn btn-primary"\r\n                            data-ng-click="vm.onEditClick(e)">\r\n                        <i class="fa fa-edit"></i>\r\n                    </button>\r\n                    <button type="button" class="btn btn-danger"\r\n                            data-ng-click="vm.onDeleteClick(e)">\r\n                        <i class="fa fa-trash-o"></i>\r\n                    </button>\r\n                </div>\r\n            </td>\r\n        </tr>\r\n    </table>\r\n</div>'),e.put("app/movies/edit.html",'<div class="container">\r\n    <div class="page-header">\r\n        <h1><i class="fa fa-film"></i> Edit Movie <small>{{ vm.movie.etitle }}</small></h1>\r\n    </div>\r\n\r\n    <div data-ng-if="!vm.session.user.loggedOn">\r\n        <div class="jumbotron">\r\n            <h1>Sorry <small>:-(</small></h1>\r\n            <p>You need to be logged on to edit movies.</p>\r\n        </div>\r\n    </div>\r\n\r\n    <div data-ng-if="vm.session.user.loggedOn">\r\n        <form name="frm" role="form" ng-submit="vm.doSave()">\r\n            <div class="form-group">\r\n                <label class="control-label">Seen</label>\r\n                <p class="input-group">\r\n                    <input type="text" class="form-control" datepicker-popup="yyyy-MM-dd" autofocus\r\n                           ng-model="vm.movie.seenAt.iso"\r\n                           is-open="vm.opened"\r\n                           datepicker-options="vm.dateOptions"\r\n                           ng-required="true" close-text="Close" />\r\n                    <span class="input-group-btn">\r\n                        <button type="button" class="btn btn-default" ng-click="vm.open($event)">\r\n                            <i class="fa fa-calendar"></i>\r\n                        </button>\r\n                    </span>\r\n                </p>\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="control-label">Original Title</label>\r\n                <input type="text" class="form-control" ng-model="vm.movie.otitle">\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="control-label">Secondary Title</label>\r\n                <input type="text" class="form-control" ng-model="vm.movie.etitle">\r\n            </div>\r\n\r\n            <div class="form-group">\r\n                <label class="control-label">Rating</label>\r\n                <input type="number" class="form-control" name="rating" min="0"\r\n                       max="10" step="0.1" ng-model="vm.movie.rating">\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="control-label">Url</label>\r\n                <input type="url" class="form-control" ng-model="vm.movie.url" >\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="control-label">Picture</label>\r\n                <input type="text" class="form-control" ng-model="vm.movie.pic" >\r\n            </div>\r\n            <div class="form-group">\r\n                <label>Synopsis</label>\r\n                <textarea class="form-control" rows="5" ng-model="vm.movie.synopsis"></textarea>\r\n            </div>\r\n            <div class="form-group">\r\n                <label>Comment</label>\r\n                <textarea class="form-control" rows="2" ng-model="vm.movie.comment"></textarea>\r\n            </div>\r\n            <div class="form-actions pull-right">\r\n                <a href="" class="btn btn-link pull-right" ng-click="vm.doCancel()">Cancel</a>\r\n                <input class="btn btn-default" type="submit" ng-disabled="frm.$invalid" value="Save">\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>\r\n'),e.put("app/movies/list.html",'<div class="container">\r\n    <div class="page-header">\r\n        <a href="#movies/edit/_new"\r\n           class="btn btn-default pull-right"\r\n           ng-class="{hidden: !vm.session.user.loggedOn}">\r\n            <i class="fa fa-plus"></i> Add Movie\r\n        </a>\r\n        <h1><i class="fa fa-film"></i> MOVIES <small>&raquo; movies by {{vm.data.currentFilterField}}</small></h1>\r\n    </div>\r\n\r\n    <div class="row">\r\n        <div class="col-xs-8 col-xs-offset-2 search">\r\n            <div class="input-group">\r\n                <div class="input-group-btn search-panel">\r\n                    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">\r\n                        <span id="search_concept">Filter by</span> <span class="caret"></span>\r\n                    </button>\r\n                    <ul class="dropdown-menu" role="menu">\r\n                        <li ng-repeat="o in vm.data.filterOptions">\r\n                            <a href="" ng-click="vm.setFilterField(o)">{{o}}</a>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n                <input type="text" class="form-control" name="txtSearch" placeholder="Search for..." ng-model="vm.filter">\r\n                <span class="input-group-btn">\r\n                    <button class="btn btn-default" type="button" ng-click="vm.setFilterValue()">\r\n                        <span class="fa fa-search"></span>\r\n                    </button>\r\n                </span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="row">\r\n        <div class="col-xs-12" infinite-scroll="vm.scroll()" infinite-scroll-distance="1" infinite-scroll-disabled="vm.fetching">\r\n            <div class="list-group">\r\n                <a class="list-group-item" href="#/movies/view/{{i.objectId}}" data-ng-repeat="i in vm.items">\r\n                    <i class="pull-right fa  fa-2x fa-chevron-right"></i>\r\n                    <h3 class="list-group-item-heading">\r\n                        {{ i.otitle }}&nbsp;\r\n                        <small>{{ i.seenAt.iso | date: \'yyyy-MM-dd\'}}</small>\r\n                    </h3>\r\n                    <p class="list-group-item-text">\r\n                        Rating: {{ i.rating }}\r\n                    </p>\r\n                </a>\r\n            </div>\r\n\r\n\r\n            <!--table class="table table-striped table-hover">\r\n                <tr>\r\n                    <th>Seen</th><th>Title</th><th>Rating</th>\r\n                    <th data-ng-class="{hidden: !vm.session.user.loggedOn}">\r\n                        Commands\r\n                    </th>\r\n                </tr>\r\n                <tr data-ng-repeat="i in vm.items">\r\n                    <td>{{ i.seenAt.iso | date: \'yyyy-MM-dd\'}}</td>\r\n                    <td><a href="{{ i.url }}" target="_blank">{{ i.etitle }}</a></td>\r\n                    <td>{{ i.rating }}</td>\r\n                    <td data-ng-class="{hidden: !vm.session.user.loggedOn}">\r\n                        <div class="btn-group">\r\n                            <button type="button" class="btn btn-primary"\r\n                                    data-ng-click="vm.onEditClick(i)">\r\n                                <i class="fa fa-edit"></i>\r\n                            </button>\r\n                            <button type="button" class="btn btn-danger"\r\n                                    data-ng-click="vm.onDeleteClick(i)">\r\n                                <i class="fa fa-trash-o"></i>\r\n                            </button>\r\n                        </div>\r\n                    </td>\r\n                </tr>\r\n            </table-->\r\n        </div>\r\n    </div>\r\n</div>'),e.put("app/movies/view.html",'<div class="container">\r\n    <div class="page-header">\r\n        <a href="#/movies" class="pull-right btn btn-default"><i class="fa fa-chevron-left"></i> Back</a>\r\n        <h1><i class="fa fa-film"></i> Movie <small>{{ vm.movie.otitle }}</small></h1>\r\n    </div>\r\n\r\n    <div class="row data-presentation">\r\n        <div class="col-xs-9">\r\n            <div class="row">\r\n                <div class="col-xs-4 col-sm-2 data-title">Original Title</div>\r\n                <div class="col-xs-8 col-sm-10 data-content">{{ vm.movie.otitle }}</div>\r\n            </div>\r\n            <div class="row">\r\n                <div class="col-xs-4 col-sm-2 data-title">Secondary Title</div>\r\n                <div class="col-xs-8 col-sm-10 data-content">{{ vm.movie.etitle }}</div>\r\n            </div>\r\n            <div class="row">\r\n                <div class="col-xs-4 col-sm-2 data-title">Seen</div>\r\n                <div class="col-xs-8 col-sm-10 data-content">{{ vm.movie.seenAt.iso | date: \'dd.MM.yyyy\' }}</div>\r\n            </div>\r\n            <div class="row">\r\n                <div class="col-xs-4 col-sm-2 data-title">\r\n                    <a href="{{vm.movie.url}}" target="_blank">IMDB Rating</a>\r\n                </div>\r\n                <div class="col-xs-8 col-sm-10 data-content">{{ vm.movie.rating | number:1}}</div>\r\n            </div>\r\n            <div class="row">\r\n                <div class="col-xs-4 col-sm-2 data-title">Synopsis</div>\r\n                <div class="col-xs-8 col-sm-10 data-content">{{ vm.movie.synopsis }}</div>\r\n            </div>\r\n            <div class="row">\r\n                <div class="col-xs-4 col-sm-2 data-title">Comment</div>\r\n                <div class="col-xs-8 col-sm-10 data-content">{{ vm.movie.comment }}</div>\r\n            </div>\r\n        </div>\r\n        <div class="col-xs-3">\r\n            <img ng-src="https://dl.dropboxusercontent.com/u/133963/Movies/{{vm.movie.pic}}"\r\n                 class="cover-image img-thumbnail" alt="Cover image">\r\n        </div>\r\n    </div>\r\n    <div class="row commands" ng-class="{hidden: !vm.session.user.loggedOn}">\r\n        <div class="col-xs-12 col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3 col-lg-3 col-lg-offset-1">\r\n            <a href="" class="btn btn-link pull-right" ng-click="vm.delete()">Delete</a>\r\n            <button class="btn btn-default pull-right " ng-click="vm.edit()">\r\n                <i class="fa fa-edit"></i> Edit\r\n            </button>\r\n        </div>\r\n    </div>\r\n</div>\r\n')
}]);